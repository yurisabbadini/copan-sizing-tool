"use strict";(self["webpackChunkcopan_sizing_tool"]=self["webpackChunkcopan_sizing_tool"]||[]).push([[480],{8579:function(e,a,o){o.d(a,{Z:function(){return d}});var t=o(3856),l=(o(7120),o(9269)),i=o(64),n=o(4300);const s={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>2===e.length},expand:Boolean};function r(){const{props:e,proxy:a}=(0,l.FN)(),{$q:o}=a,t=(0,l.f3)(n.YE,(()=>{console.error("QPageSticky needs to be child of QLayout")})),s=(0,l.Fl)((()=>{const a=e.position;return{top:a.indexOf("top")>-1,right:a.indexOf("right")>-1,bottom:a.indexOf("bottom")>-1,left:a.indexOf("left")>-1,vertical:"top"===a||"bottom"===a,horizontal:"left"===a||"right"===a}})),r=(0,l.Fl)((()=>t.header.offset)),d=(0,l.Fl)((()=>t.right.offset)),p=(0,l.Fl)((()=>t.footer.offset)),u=(0,l.Fl)((()=>t.left.offset)),c=(0,l.Fl)((()=>{let a=0,t=0;const l=s.value,i=!0===o.lang.rtl?-1:1;!0===l.top&&0!==r.value?t=`${r.value}px`:!0===l.bottom&&0!==p.value&&(t=-p.value+"px"),!0===l.left&&0!==u.value?a=i*u.value+"px":!0===l.right&&0!==d.value&&(a=-i*d.value+"px");const n={transform:`translate(${a}, ${t})`};return e.offset&&(n.margin=`${e.offset[1]}px ${e.offset[0]}px`),!0===l.vertical?(0!==u.value&&(n[!0===o.lang.rtl?"right":"left"]=`${u.value}px`),0!==d.value&&(n[!0===o.lang.rtl?"left":"right"]=`${d.value}px`)):!0===l.horizontal&&(0!==r.value&&(n.top=`${r.value}px`),0!==p.value&&(n.bottom=`${p.value}px`)),n})),m=(0,l.Fl)((()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--`+(!0===e.expand?"expand":"shrink")));function f(a){const o=(0,i.KR)(a.default);return(0,l.h)("div",{class:m.value,style:c.value},!0===e.expand?o:[(0,l.h)("div",o)])}return{$layout:t,getStickyContent:f}}var d=(0,t.L)({name:"QPageSticky",props:s,setup(e,{slots:a}){const{getStickyContent:o}=r();return()=>o(a)}})},6830:function(e,a,o){var t;o.d(a,{Z:function(){return f}});var l=new Uint8Array(16);function i(){if(!t&&(t="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(l)}var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(e){return"string"===typeof e&&n.test(e)}for(var r=s,d=[],p=0;p<256;++p)d.push((p+256).toString(16).substr(1));function u(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(d[e[a+0]]+d[e[a+1]]+d[e[a+2]]+d[e[a+3]]+"-"+d[e[a+4]]+d[e[a+5]]+"-"+d[e[a+6]]+d[e[a+7]]+"-"+d[e[a+8]]+d[e[a+9]]+"-"+d[e[a+10]]+d[e[a+11]]+d[e[a+12]]+d[e[a+13]]+d[e[a+14]]+d[e[a+15]]).toLowerCase();if(!r(o))throw TypeError("Stringified UUID is invalid");return o}var c=u;function m(e,a,o){e=e||{};var t=e.random||(e.rng||i)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,a){o=o||0;for(var l=0;l<16;++l)a[o+l]=t[l];return a}return c(t)}var f=m},9266:function(e,a,o){o.r(a),o.d(a,{default:function(){return ge}});var t=o(9269);const l={class:"row"},i={class:"col"},n={class:"row"},s={class:"col"},r={class:"col"},d=(0,t.Uk)("SAVE");function p(e,a,o,p,u,c){const m=(0,t.up)("AdditionalItems"),f=(0,t.up)("Lines"),g=(0,t.up)("Protocols"),y=(0,t.up)("q-btn"),w=(0,t.up)("q-page-sticky");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",l,[(0,t._)("div",i,[(0,t.Wm)(m)])]),(0,t._)("div",n,[(0,t._)("div",s,[(0,t.Wm)(f)])]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.lines,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"row"},[(0,t._)("div",r,[(0,t.Wm)(g,{title:e.name,lineId:e.id},null,8,["title","lineId"])])])))),128)),(0,t.Wm)(w,{position:"top-right",offset:[18,18]},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{fab:"",color:"primary",onClick:e.calcola},{default:(0,t.w5)((()=>[d])),_:1},8,["onClick"])])),_:1})],64)}var u=o(3961),c=o(3201);const m=(0,t.Uk)("Lines"),f={style:{color:"#022a55 !important"}},g={style:{color:"#022a55 !important"}},y={style:{"margin-top":"-18px"}},w={style:{"margin-top":"-18px"}};function b(e,a,o,l,i,n){const s=(0,t.up)("q-item-label"),r=(0,t.up)("q-input"),d=(0,t.up)("q-td"),p=(0,t.up)("q-select"),u=(0,t.up)("q-checkbox"),b=(0,t.up)("q-btn"),h=(0,t.up)("q-tr"),k=(0,t.up)("q-table"),v=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(v,{class:"q-pa-sm q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{class:"q-mb-sm",overline:""},{default:(0,t.w5)((()=>[m])),_:1}),(0,t.Wm)(k,{columns:e.tableColumns,rows:e.lines,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,t.w5)((a=>[(0,t.Wm)(h,{props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{key:"name",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"text",modelValue:a.row.name,"onUpdate:modelValue":e=>a.row.name=e,"lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid value"]},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"numberOfWasp",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{square:"",filled:"",dark:"","bg-color":"input",color:"white",style:{"margin-top":"-18px"},dense:"",modelValue:a.row.numberOfWasp,"onUpdate:modelValue":e=>a.row.numberOfWasp=e,modelModifiers:{number:!0},options:[1,2]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"numberOfO2Incubator",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{square:"",filled:"",dark:"","bg-color":"input",color:"white",dense:"","bottom-slots":"",modelValue:a.row.numberOfO2Incubator,"onUpdate:modelValue":e=>a.row.numberOfO2Incubator=e,modelModifiers:{number:!0},options:e.getAvailableIncubators(a.row.id)},{hint:(0,t.w5)((()=>[(0,t._)("span",f,(0,c.zw)(a.row.O2IncubatorIsSingle?"single":"double "),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options"])])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"numberOfCO2Incubator",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{square:"",dark:"","bg-color":"input",dense:"","bottom-slots":"",modelValue:a.row.numberOfCO2Incubator,"onUpdate:modelValue":e=>a.row.numberOfCO2Incubator=e,modelModifiers:{number:!0},options:e.getAvailableIncubators(a.row.id)},{hint:(0,t.w5)((()=>[(0,t._)("span",g,(0,c.zw)(a.row.CO2IncubatorIsSingle?"single":"double "),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options"])])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"collaborativeStation",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{style:{"margin-top":"-18px"},color:"input",dense:"",modelValue:a.row.collaborativeStation,"onUpdate:modelValue":e=>a.row.collaborativeStation=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"radian",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{style:{"margin-top":"-18px"},color:"input",dense:"",modelValue:a.row.radian,"onUpdate:modelValue":e=>a.row.radian=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"phenomatrix",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{style:{"margin-top":"-18px"},color:"input",dense:"",modelValue:a.row.phenomatrix,"onUpdate:modelValue":e=>a.row.phenomatrix=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"waspOccupancyRate",props:a},{default:(0,t.w5)((()=>[(0,t._)("div",y,(0,c.zw)(a.row.waspOccupancyRate.toFixed(2))+" %",1)])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"wasplabOccupancyRate",props:a},{default:(0,t.w5)((()=>[(0,t._)("div",w,(0,c.zw)(isFinite(a.row.wasplabOccupancyRate)?a.row.wasplabOccupancyRate.toFixed(2)+" %":"N/A"),1)])),_:2},1032,["props"]),(0,t.Wm)(d,{key:"actions",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{flat:"",round:"",color:"red",icon:"remove_circleoutline",size:"xs",onClick:o=>e.removeLine(a.row.id)},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"]),(0,t.Wm)(b,{class:"q-mt-md",label:"Add",type:"button",color:"secondary",size:"sm",onClick:e.addLine},null,8,["onClick"])])),_:1})}var h=o(6830),k=(0,t.aZ)({name:"ConfigLines",setup(){const e=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"numberOfWasp",label:"WASP",align:"left",field:e=>e.numberOfWasp},{name:"numberOfO2Incubator",label:"Air incubator",align:"left",field:e=>e.numberOfO2Incubator},{name:"numberOfCO2Incubator",label:"CO2 incubator",align:"left",field:e=>e.numberOfCO2Incubator},{name:"collaborativeStation",label:"Collaborative station",align:"left",field:e=>e.collaborativeStation},{name:"radian",label:"Radian",align:"left",field:e=>e.radian},{name:"phenomatrix",label:"Phenomatrix",align:"left",field:e=>e.phenomatrix},{name:"waspOccupancyRate",label:"WASP Occupancy rate",align:"left",field:e=>e.waspOccupancyRate},{name:"wasplabOccupancyRate",label:"WASPLAB Occupancy rate",align:"left",field:e=>e.wasplabOccupancyRate},{name:"actions",label:"",align:"left",field:e=>e.id}],{lines:a,dailyData:o,primaryProtocols:t}=(0,u.Z)(),l=o.value.find((e=>e.isPeakDay));return{tableColumns:e,lines:a,peakDay:l,primaryProtocols:t}},methods:{addLine(){this.lines.push({id:(0,h.Z)(),collaborativeStation:!1,O2IncubatorIsSingle:!0,CO2IncubatorIsSingle:!0,name:"wasplab "+(this.lines.length+1),numberOfCO2Incubator:0,numberOfO2Incubator:0,numberOfWasp:0,phenomatrix:!1,protocols:[],radian:!1,waspOccupancyRate:0,wasplabOccupancyRate:0});const e=this.lines[this.lines.length-1];e.protocols=[],this.primaryProtocols.forEach((a=>{e?.protocols.push({id:a.id,name:a.name,samples:0,wasp1Percentage:0,wasp2Percentage:0,co2Loading:0,co2Recording:0,co2Unloading:0,o2Loading:0,o2Recording:0,o2Unloading:0,wasp1Broths:0,wasp1Plates:0,wasp1Slides:0,wasp2Broths:0,wasp2Plates:0,wasp2Slides:0})}))},removeLine(e){const a=this.lines.findIndex((a=>a.id==e));a>-1&&this.lines.splice(a,1)},getAvailableIncubators(e){const a=[0],o=this.lines.find((a=>a.id==e));if(o){for(let e=1;e<=3-(o.numberOfO2Incubator+o.numberOfCO2Incubator);e++)a.push(e);return a}return[1,2,3]}}}),v=o(7617),P=o(8055),O=o(3712),W=o(7794),_=o(8231),I=o(7282),x=o(6931),S=o(3010),V=o(9109),D=o(570),U=o(1410),T=o.n(U);const C=(0,v.Z)(k,[["render",b]]);var q=C;T()(k,"components",{QCard:P.Z,QItemLabel:O.Z,QTable:W.Z,QTr:_.Z,QTd:I.Z,QInput:x.Z,QSelect:S.Z,QCheckbox:V.Z,QBtn:D.Z});const A={style:{"margin-top":"-18px"}},Z=(0,t.Uk)(" %"),z=(0,t.Uk)(" %"),R={style:{"margin-top":"-18px"}},L={style:{"margin-top":"-18px"}},F={style:{"margin-top":"-18px"}},Q=(0,t.Uk)(" %"),B={style:{"margin-top":"-18px"}},M={style:{"margin-top":"-18px"}},$={style:{"margin-top":"-18px"}},E={style:{"margin-top":"-18px"}},H={style:{"margin-top":"-18px"}},N={style:{"margin-top":"-18px"}},j={style:{"margin-top":"-18px"}},Y={style:{"margin-top":"-18px"}},K={style:{"margin-top":"-18px"}};function G(e,a,o,l,i,n){const s=(0,t.up)("q-item-label"),r=(0,t.up)("q-td"),d=(0,t.up)("q-input"),p=(0,t.up)("q-tr"),u=(0,t.up)("q-table"),m=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(m,{class:"q-pa-sm q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{class:"q-mb-sm",overline:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(e.title),1)])),_:1}),(0,t.Wm)(u,{columns:1==e.line?.numberOfWasp?e.tableColumns1:e.tableColumns2,rows:e.line?.protocols,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,t.w5)((e=>[(0,t.Wm)(p,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{key:"name",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",A,(0,c.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"samples",props:e,style:{"background-color":"rgba(0, 0, 0, 0.05)"}},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"number",modelValue:e.row.samples,"onUpdate:modelValue":a=>e.row.samples=a,modelModifiers:{number:!0},"lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid value"]},{append:(0,t.w5)((()=>[Z])),_:2},1032,["modelValue","onUpdate:modelValue","rules"])])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"wasp1Percentage",props:e,style:{"background-color":"rgba(0, 0, 0, 0.05)"}},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"number",modelValue:e.row.wasp1Percentage,"onUpdate:modelValue":a=>e.row.wasp1Percentage=a,modelModifiers:{number:!0},"lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid value"]},{append:(0,t.w5)((()=>[z])),_:2},1032,["modelValue","onUpdate:modelValue","rules"])])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"wasp1Plates",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",R,(0,c.zw)(e.row.wasp1Plates.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"wasp1Slides",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",L,(0,c.zw)(e.row.wasp1Slides.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"wasp1Broths",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",F,(0,c.zw)(e.row.wasp1Broths.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"wasp2Percentage",props:e,style:{"background-color":"rgba(0, 0, 0, 0.05)"}},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"number",modelValue:e.row.wasp2Percentage,"onUpdate:modelValue":a=>e.row.wasp2Percentage=a,modelModifiers:{number:!0},"lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid value"]},{append:(0,t.w5)((()=>[Q])),_:2},1032,["modelValue","onUpdate:modelValue","rules"])])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"wasp2Plates",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",B,(0,c.zw)(e.row.wasp2Plates.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"wasp2Slides",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",M,(0,c.zw)(e.row.wasp2Slides.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"wasp2Broths",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",$,(0,c.zw)(e.row.wasp2Broths.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"o2Loading",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",E,(0,c.zw)(e.row.o2Loading.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"co2Loading",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",H,(0,c.zw)(e.row.co2Loading.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"o2Recording",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",N,(0,c.zw)(e.row.o2Recording.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"co2Recording",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",j,(0,c.zw)(e.row.co2Recording.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"o2Unloading",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",Y,(0,c.zw)(e.row.o2Unloading.toFixed(0)),1)])),_:2},1032,["props"]),(0,t.Wm)(r,{key:"co2Unloading",props:e},{default:(0,t.w5)((()=>[(0,t._)("div",K,(0,c.zw)(e.row.co2Unloading.toFixed(0)),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1})}var J=(0,t.aZ)({name:"LineProtocols",props:{title:String,lineId:String},setup(e){const{lines:a,primaryProtocols:o,dailyData:t,weightedDayTimesPerProtocol:l}=(0,u.Z)(),i=t.value.find((e=>e.isPeakDay)),n=l.value.filter((e=>e.dayOfWeek==i?.dayOfWeek)),s=a.value.find((a=>a.id==e.lineId)),r=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"samples",label:"Samples",align:"left",field:e=>e.samples},{name:"wasp1Percentage",label:"WASP 1",align:"left",field:e=>e.wasp1Percentage},{name:"wasp1Plates",label:"Plates (1)",align:"left",field:e=>e.wasp1Plates},{name:"wasp1Slides",label:"Slides (1)",align:"left",field:e=>e.wasp1Slides},{name:"wasp1Broths",label:"Broths (1)",align:"left",field:e=>e.wasp1Broths},{name:"o2Loading",label:"Air loading",align:"left",field:e=>e.o2Loading},{name:"co2Loading",label:"CO2 loading",align:"left",field:e=>e.co2Loading},{name:"o2Recording",label:"Air recording",align:"left",field:e=>e.o2Recording},{name:"co2Recording",label:"CO2 recording",align:"left",field:e=>e.co2Recording},{name:"o2Unloading",label:"Air unloading",align:"left",field:e=>e.o2Unloading},{name:"co2Unloading",label:"CO2 unloading",align:"left",field:e=>e.co2Unloading}],d=[];for(const p of r)d.push(p);return d.splice(6,0,{name:"wasp2Percentage",label:"WASP 2",align:"left",field:e=>e.wasp2Percentage}),d.splice(7,0,{name:"wasp2Plates",label:"Plates (2)",align:"left",field:e=>e.wasp2Plates}),d.splice(8,0,{name:"wasp2Slides",label:"Slides (2)",align:"left",field:e=>e.wasp2Slides}),d.splice(9,0,{name:"wasp2Broths",label:"Broths (2)",align:"left",field:e=>e.wasp2Broths}),{tableColumns1:r,tableColumns2:d,lines:a,line:s,weightedPeakDayTimes:n,primaryProtocols:o}}});const X=(0,v.Z)(J,[["render",G]]);var ee=X;T()(J,"components",{QCard:P.Z,QItemLabel:O.Z,QTable:W.Z,QTr:_.Z,QTd:I.Z,QInput:x.Z});const ae=(0,t.Uk)("Additional Items"),oe={class:"row q-gutter-xs"},te={class:"col"},le={class:"col"},ie={class:"col"},ne={class:"col"},se={class:"col"};function re(e,a,o,l,i,n){const s=(0,t.up)("q-item-label"),r=(0,t.up)("q-input"),d=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(d,{class:"q-pa-sm q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{class:"q-mb-sm",overline:""},{default:(0,t.w5)((()=>[ae])),_:1}),(0,t._)("div",oe,[(0,t._)("div",te,[(0,t.Wm)(r,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.flo,"onUpdate:modelValue":a[0]||(a[0]=a=>e.configuratorAdditionalItems.flo=a),modelModifiers:{number:!0},label:"Flo","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,t._)("div",le,[(0,t.Wm)(r,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.colibri,"onUpdate:modelValue":a[1]||(a[1]=a=>e.configuratorAdditionalItems.colibri=a),modelModifiers:{number:!0},label:"ColibrÃ¬",hint:e.colibriHint(),"lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","hint","rules"])]),(0,t._)("div",ie,[(0,t.Wm)(r,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.manualStation,"onUpdate:modelValue":a[2]||(a[2]=a=>e.configuratorAdditionalItems.manualStation=a),modelModifiers:{number:!0},label:"Manual station","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,t._)("div",ne,[(0,t.Wm)(r,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.readingStation,"onUpdate:modelValue":a[3]||(a[3]=a=>e.configuratorAdditionalItems.readingStation=a),modelModifiers:{number:!0},label:"Reading station","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,t._)("div",se,[(0,t.Wm)(r,{square:"",dark:"","bg-color":"input",dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.pickingStation,"onUpdate:modelValue":a[4]||(a[4]=a=>e.configuratorAdditionalItems.pickingStation=a),modelModifiers:{number:!0},label:"Picking station","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])])])])),_:1})}var de=(0,t.aZ)({name:"AdditionalItems",setup(){const{settings:e,lines:a,primaryProtocols:o,configuratorAdditionalItems:t,colibriTime:l}=(0,u.Z)();return{settings:e,lines:a,primaryProtocols:o,configuratorAdditionalItems:t,colibriTime:l}},methods:{colibriHint(){try{const e=[];this.lines.forEach((a=>{a.protocols.forEach((a=>{const o=e.findIndex((e=>e.protocolId==a.id));o<0?e.push({protocolId:a.id,plates:a.co2Unloading+a.o2Unloading}):e[o].plates+=a.co2Unloading+a.o2Unloading}))}));const a=[];e.forEach((e=>{const o=this.primaryProtocols.find((a=>a.id==e.protocolId));o&&a.push({protocol:o,idTime:e.plates*(o.idPercentage/100)*this.settings.colibri.IDTimeInSeconds,astTime:e.plates*(o.astPercentage/100)*this.settings.colibri.ASTTimeInSeconds,idAstTime:e.plates*(o.astIdPercentage/100)*this.settings.colibri.ASTIDTimeInSeconds})}));const o=a.map((e=>e.idTime+e.astTime+e.idAstTime)).reduce(((e,a)=>e+a));return this.colibriTime=o,0==this.configuratorAdditionalItems.colibri?"0 %":(o/this.configuratorAdditionalItems.colibri/3600*100).toFixed(2)+" %"}catch{return""}}}});const pe=(0,v.Z)(de,[["render",re]]);var ue=pe;T()(de,"components",{QCard:P.Z,QItemLabel:O.Z,QInput:x.Z});var ce=(0,t.aZ)({name:"HomeView",components:{Lines:q,Protocols:ee,AdditionalItems:ue},setup(){const{lines:e,fteHours:a,dailyData:o,weightedDayTimesPerProtocol:t,primaryProtocols:l}=(0,u.Z)(),i=o.value.find((e=>e.isPeakDay)),n=t.value.filter((e=>e.dayOfWeek==i?.dayOfWeek));return{weightedDayTimesPerProtocol:t,weightedPeakDayTimes:n,peakDay:i,fteHours:a,primaryProtocols:l,lines:e}},methods:{saveProtocols(){this.lines.forEach((e=>{e.protocols.forEach((e=>{const a=e.samples,o=e.wasp1Percentage,t=e.wasp2Percentage;e.samples=Number(a.toFixed(2)),e.wasp1Percentage=o,e.wasp2Percentage=t,e.co2Loading=(this.weightedPeakDayTimes.find((a=>"loading_co2"==a.type&&a.protocol==e.id))?.samples||0)*a/100,e.co2Recording=(this.weightedPeakDayTimes.find((a=>"recording_co2"==a.type&&a.protocol==e.id))?.samples||0)*a/100,e.co2Unloading=(this.weightedPeakDayTimes.find((a=>"unloading_co2"==a.type&&a.protocol==e.id))?.samples||0)*a/100,e.o2Loading=(this.weightedPeakDayTimes.find((a=>"loading_air"==a.type&&a.protocol==e.id))?.samples||0)*a/100,e.o2Recording=(this.weightedPeakDayTimes.find((a=>"recording_air"==a.type&&a.protocol==e.id))?.samples||0)*a/100,e.o2Unloading=(this.weightedPeakDayTimes.find((a=>"unloading_air"==a.type&&a.protocol==e.id))?.samples||0)*a/100,e.wasp1Broths=(this.weightedPeakDayTimes.find((a=>"broths"==a.type&&a.protocol==e.id))?.samples||0)*o/100*a/100,e.wasp1Plates=(this.weightedPeakDayTimes.find((a=>"plates"==a.type&&a.protocol==e.id))?.samples||0)*o/100*a/100,e.wasp1Slides=(this.weightedPeakDayTimes.find((a=>"slides"==a.type&&a.protocol==e.id))?.samples||0)*o/100*a/100,e.wasp2Broths=(this.weightedPeakDayTimes.find((a=>"broths"==a.type&&a.protocol==e.id))?.samples||0)*t/100*a/100,e.wasp2Plates=(this.weightedPeakDayTimes.find((a=>"plates"==a.type&&a.protocol==e.id))?.samples||0)*t/100*a/100,e.wasp2Slides=(this.weightedPeakDayTimes.find((a=>"slides"==a.type&&a.protocol==e.id))?.samples||0)*t/100*a/100}))}))},saveConfig(){this.lines.forEach((e=>{let a=0,o=0,t=0,l=0,i=0,n=0,s=0,r=0,d=0,p=0;const u=e.protocols;u.forEach((u=>{const c=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&("plates"==e.type||"slides"==e.type||"broths"==e.type))).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*(u.samples/100)*(u.wasp1Percentage/100)||0;a+=c;const m=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&("plates"==e.type||"slides"==e.type||"broths"==e.type))).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*(u.samples/100)*(u.wasp2Percentage/100)||0;o+=m;const f=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"loading_air"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*u.samples/100/e.numberOfO2Incubator||0,g=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"recording_air"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*u.samples/e.numberOfO2Incubator/100||0,y=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"unloading_air"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*u.samples/e.numberOfO2Incubator/100||0;t+=f,l+=g,i+=y,d+=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"loading_air"==e.type)).map((e=>e.samples)).reduce(((e,a)=>e+a))*u.samples/100,p+=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"loading_co2"==e.type)).map((e=>e.samples)).reduce(((e,a)=>e+a))*u.samples/100;const w=e.numberOfCO2Incubator>0?e.numberOfCO2Incubator:1,b=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"loading_co2"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*u.samples/w/100||0,h=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"recording_co2"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*u.samples/w/100||0,k=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"unloading_co2"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*u.samples/w/100||0;n+=b,s+=h,r+=k,d+=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"unloading_air"==e.type)).map((e=>e.samples)).reduce(((e,a)=>e+a))*u.samples/100,p+=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==u.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"unloading_co2"==e.type)).map((e=>e.samples)).reduce(((e,a)=>e+a))*u.samples/100})),e.waspOccupancyRate=Math.max(a/3600/(this.fteHours.wasp.end-this.fteHours.wasp.start)*100,o/3600/(this.fteHours.wasp.end-this.fteHours.wasp.start)*100),e.wasplabOccupancyRate=(Math.max(a,o,t,n)+Math.max(l,s)+i+r)/3600/24*100,e.numberOfO2Incubator>0&&d/e.numberOfO2Incubator>850?e.O2IncubatorIsSingle=!1:e.O2IncubatorIsSingle=!0,e.numberOfCO2Incubator>0&&p/e.numberOfCO2Incubator>850?e.CO2IncubatorIsSingle=!1:e.CO2IncubatorIsSingle=!0}))},calcola(){this.saveProtocols(),this.saveConfig()}}}),me=o(8579);const fe=(0,v.Z)(ce,[["render",p]]);var ge=fe;T()(ce,"components",{QPageSticky:me.Z,QBtn:D.Z})}}]);
//# sourceMappingURL=configurator.dc8ef610.js.map