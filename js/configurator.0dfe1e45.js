"use strict";(self["webpackChunkcopan_sizing_tool"]=self["webpackChunkcopan_sizing_tool"]||[]).push([[480],{1326:function(e,a,l){l.r(a),l.d(a,{default:function(){return Q}});var o=l(9269);const n={class:"row"},s={class:"col"},t={class:"col"};function p(e,a,l,p,r,d){const i=(0,o.up)("Lines"),u=(0,o.up)("Protocols");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",n,[(0,o._)("div",s,[(0,o.Wm)(i)])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.lines,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"row"},[(0,o._)("div",t,[(0,o.Wm)(u,{title:e.name,lineId:e.id},null,8,["title","lineId"])])])))),128))],64)}var r=l(3961),d=l(3201),i=l(5102);const u=(0,o.Uk)("Lines");function m(e,a,l,n,s,t){const p=(0,o.up)("q-item-label"),r=(0,o.up)("q-input"),m=(0,o.up)("q-popup-edit"),c=(0,o.up)("q-td"),w=(0,o.up)("q-select"),f=(0,o.up)("q-checkbox"),b=(0,o.up)("q-btn"),g=(0,o.up)("q-tr"),W=(0,o.up)("q-table"),k=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(k,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[u])),_:1}),(0,o.Wm)(W,{columns:e.tableColumns,rows:e.lines,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0}},{body:(0,o.w5)((a=>[(0,o.Wm)(g,{props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{key:"name",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(a.row.name)+" ",1),(0,o.Wm)(m,{modelValue:a.row.name,"onUpdate:modelValue":e=>a.row.name=e,"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(r,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dense:"",autofocus:"",onKeyup:(0,i.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"numberOfWasp",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{dense:"",modelValue:a.row.numberOfWasp,"onUpdate:modelValue":e=>a.row.numberOfWasp=e,modelModifiers:{number:!0},options:[1,2]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"numberOfO2Incubator",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{dense:"",modelValue:a.row.numberOfO2Incubator,"onUpdate:modelValue":e=>a.row.numberOfO2Incubator=e,modelModifiers:{number:!0},options:[1,2,3]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"numberOfCO2Incubator",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{dense:"",modelValue:a.row.numberOfCO2Incubator,"onUpdate:modelValue":e=>a.row.numberOfCO2Incubator=e,modelModifiers:{number:!0},options:[1,2,3]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"collaborativeStation",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{dense:"",modelValue:a.row.collaborativeStation,"onUpdate:modelValue":e=>a.row.collaborativeStation=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"radian",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{dense:"",modelValue:a.row.radian,"onUpdate:modelValue":e=>a.row.radian=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"phenomatrix",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{dense:"",modelValue:a.row.phenomatrix,"onUpdate:modelValue":e=>a.row.phenomatrix=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"waspOccupancyRate",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(a.row.waspOccupancyRate),1)])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"wasplabOccupancyRate",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(a.row.wasplabOccupancyRate),1)])),_:2},1032,["props"]),(0,o.Wm)(c,{key:"actions",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{flat:"",round:"",color:"red",icon:"remove_circleoutline",size:"xs",onClick:l=>e.removeLine(a.row.id)},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"]),(0,o.Wm)(b,{class:"q-mt-md",label:"Add",type:"button",color:"secondary",onClick:e.addLine},null,8,["onClick"])])),_:1})}var c=l(6830),w=(0,o.aZ)({name:"ConfigLines",setup(){const e=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"numberOfWasp",label:"WASP",align:"left",field:e=>e.numberOfWasp},{name:"numberOfO2Incubator",label:"Air incubator",align:"left",field:e=>e.numberOfO2Incubator},{name:"numberOfCO2Incubator",label:"CO2 incubator",align:"left",field:e=>e.numberOfCO2Incubator},{name:"collaborativeStation",label:"Collaborative station",align:"left",field:e=>e.collaborativeStation},{name:"radian",label:"Radian",align:"left",field:e=>e.radian},{name:"phenomatrix",label:"Phenomatrix",align:"left",field:e=>e.phenomatrix},{name:"waspOccupancyRate",label:"WASP Occupancy rate",align:"left",field:e=>e.waspOccupancyRate},{name:"wasplabOccupancyRate",label:"WASPLAB Occupancy rate",align:"left",field:e=>e.wasplabOccupancyRate},{name:"actions",label:"",align:"left",field:e=>e.id}],{lines:a}=(0,r.Z)();return{tableColumns:e,lines:a}},methods:{addLine(){this.lines.push({id:(0,c.Z)(),collaborativeStation:!1,name:"wasplab "+(this.lines.length+1),numberOfCO2Incubator:0,numberOfO2Incubator:0,numberOfWasp:1,phenomatrix:!1,protocols:[],radian:!1,waspOccupancyRate:0,wasplabOccupancyRate:0})},removeLine(e){const a=this.lines.findIndex((a=>a.id==e));a>-1&&this.lines.splice(a,1)}}}),f=l(7617),b=l(8055),g=l(3712),W=l(7794),k=l(8231),y=l(7282),U=l(4487),V=l(6931),O=l(1903),h=l(9109),P=l(570),_=l(1410),v=l.n(_);const C=(0,f.Z)(w,[["render",m]]);var S=C;function Z(e,a,l,n,s,t){const p=(0,o.up)("q-item-label"),r=(0,o.up)("q-td"),u=(0,o.up)("q-input"),m=(0,o.up)("q-popup-edit"),c=(0,o.up)("q-tr"),w=(0,o.up)("q-table"),f=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(f,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.title),1)])),_:1}),(0,o.Wm)(w,{columns:1==e.line?.numberOfWasp?e.tableColumns1:e.tableColumns2,rows:e.line?.protocols,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0}},{body:(0,o.w5)((e=>[(0,o.Wm)(c,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{key:"name",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"samples",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.samples)+" % ",1),(0,o.Wm)(m,{modelValue:e.row.samples,"onUpdate:modelValue":a=>e.row.samples=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,i.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"wasp1Percentage",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.wasp1Percentage)+" % ",1),(0,o.Wm)(m,{modelValue:e.row.wasp1Percentage,"onUpdate:modelValue":a=>e.row.wasp1Percentage=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,i.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"wasp1Plates",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.wasp1Plates),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"wasp1Slides",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.wasp1Slides),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"wasp1Broths",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.wasp1Broths),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"wasp2Percentage",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.wasp2Percentage)+" % ",1),(0,o.Wm)(m,{modelValue:e.row.wasp2Percentage,"onUpdate:modelValue":a=>e.row.wasp2Percentage=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,i.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"wasp2Plates",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.wasp2Plates),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"wasp2Slides",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.wasp2Slides),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"wasp2Broths",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.wasp2Broths),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"o2Loading",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.o2Loading),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"co2Loading",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.co2Loading),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"o2Recording",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.o2Recording),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"co2Recording",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.co2Recording),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"co2Unloading",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.co2Unloading),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"co2Unloading",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(e.row.co2Unloading),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1})}v()(w,"components",{QCard:b.Z,QItemLabel:g.Z,QTable:W.Z,QTr:k.Z,QTd:y.Z,QPopupEdit:U.Z,QInput:V.Z,QSelect:O.Z,QCheckbox:h.Z,QBtn:P.Z});var q=(0,o.aZ)({name:"LineProtocols",props:{title:String,lineId:String},setup(e){const{lines:a,primaryProtocols:l,dailyData:o,weightedDayTimes:n}=(0,r.Z)(),s=o.value.find((e=>e.isPeakDay)),t=n.value.filter((e=>e.dayOfWeek==s?.dayOfWeek));console.log(t);const p=a.value.find((a=>a.id==e.lineId));p&&(p.protocols=[],l.value.forEach((e=>{const l=1==p.numberOfWasp?100:50;console.log(t.find((e=>"plates"==e.type))?.samples),p.protocols.push({name:e.name,samples:Number((100/a.value.length).toFixed(2)),wasp1Percentage:l,wasp2Percentage:1==p.numberOfWasp?0:50,co2Loading:0,co2Recording:0,co2Unloading:0,o2Loading:0,o2Recording:0,o2Unloading:0,wasp1Broths:0,wasp1Plates:t.find((e=>"plates"==e.type))?.samples||0*l/100,wasp1Slides:0,wasp2Broths:0,wasp2Plates:0,wasp2Slides:0})})));const d=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"samples",label:"Samples",align:"left",field:e=>e.samples},{name:"wasp1Percentage",label:"WASP 1",align:"left",field:e=>e.wasp1Percentage},{name:"wasp1Plates",label:"Plates (1)",align:"left",field:e=>e.wasp1Plates},{name:"wasp1Slides",label:"Slides (1)",align:"left",field:e=>e.wasp1Slides},{name:"wasp1Broths",label:"Broths (1)",align:"left",field:e=>e.wasp1Broths},{name:"o2Loading",label:"Air loading",align:"left",field:e=>e.o2Loading},{name:"co2Loading",label:"CO2 loading",align:"left",field:e=>e.co2Loading},{name:"o2Recording",label:"Air recording",align:"left",field:e=>e.o2Recording},{name:"co2Recording",label:"CO2 recording",align:"left",field:e=>e.co2Recording},{name:"o2Unloading",label:"CO2 unloading",align:"left",field:e=>e.o2Unloading},{name:"co2Unloading",label:"CO2 unloading",align:"left",field:e=>e.o2Unloading}],i=[];for(const r of d)i.push(r);return i.splice(6,0,{name:"wasp2Percentage",label:"WASP 2",align:"left",field:e=>e.wasp2Percentage}),i.splice(7,0,{name:"wasp2Plates",label:"Plates (2)",align:"left",field:e=>e.wasp2Plates}),i.splice(8,0,{name:"wasp2Slides",label:"Slides (2)",align:"left",field:e=>e.wasp2Slides}),i.splice(9,0,{name:"wasp2Broths",label:"Broths (2)",align:"left",field:e=>e.wasp2Broths}),{tableColumns1:d,tableColumns2:i,lines:a,line:p,weightedPeakDayTimes:t}},watch:{lines:{handler:function(){this.line?.protocols.forEach((e=>{e.samples=Number((100/this.lines.length).toFixed(2)),e.wasp1Percentage=1==this.line?.numberOfWasp?100:50,e.wasp2Percentage=1==this.line?.numberOfWasp?0:50}))},deep:!0}}});const z=(0,f.Z)(q,[["render",Z]]);var L=z;v()(q,"components",{QCard:b.Z,QItemLabel:g.Z,QTable:W.Z,QTr:k.Z,QTd:y.Z,QPopupEdit:U.Z,QInput:V.Z});var I=(0,o.aZ)({name:"HomeView",components:{Lines:S,Protocols:L},setup(){const{lines:e}=(0,r.Z)();return{lines:e}}});const R=(0,f.Z)(I,[["render",p]]);var Q=R}}]);
//# sourceMappingURL=configurator.0dfe1e45.js.map