"use strict";(self["webpackChunkcopan_sizing_tool"]=self["webpackChunkcopan_sizing_tool"]||[]).push([[467],{4494:function(e,a,t){t.r(a),t.d(a,{default:function(){return Y}});var l=t(9269);const o={class:"row"},n={class:"col"},r={class:"col"},s={class:"row"},i={class:"col"},u={class:"row"},d={key:0,class:"col"},c={key:1,class:"col"},p={class:"row"},m={class:"col"};function b(e,a,t,b,f,w){const v=(0,l.up)("TotalHardware"),g=(0,l.up)("OutputLine"),h=(0,l.up)("WaspChart"),O=(0,l.up)("WasplabChart");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",o,[(0,l._)("div",n,[(0,l.Wm)(v)])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.lines,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"row"},[(0,l._)("div",r,[(0,l._)("div",s,[(0,l._)("div",i,[(0,l.Wm)(g,{"line-id":e.id,title:e.name},null,8,["line-id","title"])])]),(0,l._)("div",u,[e.numberOfWasp>=1?((0,l.wg)(),(0,l.iD)("div",d,[(0,l.Wm)(h,{lineId:e.id,wasp:1},null,8,["lineId"])])):(0,l.kq)("",!0),2==e.numberOfWasp?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(h,{lineId:e.id,wasp:2},null,8,["lineId"])])):(0,l.kq)("",!0)]),(0,l._)("div",p,[(0,l._)("div",m,[(0,l.Wm)(O,{lineId:e.id},null,8,["lineId"])])])])])))),128))],64)}const f=(0,l.Uk)("Total hardware"),w={class:"row q-gutter-sm"},v={class:"col"},g={class:"col"},h={class:"col"};function O(e,a,t,o,n,r){const s=(0,l.up)("q-item-label"),i=(0,l.up)("q-table"),u=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(u,{class:"q-pa-sm q-mt-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-mb-sm",overline:""},{default:(0,l.w5)((()=>[f])),_:1}),(0,l._)("div",w,[(0,l._)("div",v,[(0,l.Wm)(i,{columns:e.outputColumns,rows:e.outputRowsT1,"row-key":"id",dense:"",flat:"",bordered:"",separator:"cell","hide-bottom":"","hide-header":"",pagination:{rowsPerPage:0}},null,8,["columns","rows"])]),(0,l._)("div",g,[(0,l.Wm)(i,{columns:e.outputColumns,rows:e.outputRowsT2,"row-key":"id",dense:"",flat:"",bordered:"",separator:"cell","hide-bottom":"","hide-header":"",pagination:{rowsPerPage:0}},null,8,["columns","rows"])]),(0,l._)("div",h,[(0,l.Wm)(i,{columns:e.outputColumns,rows:e.outputRowsT3,"row-key":"id",dense:"",flat:"",bordered:"",separator:"cell","hide-bottom":"","hide-header":"",pagination:{rowsPerPage:0}},null,8,["columns","rows"])])])])),_:1})}var y=t(3961),W=(0,l.aZ)({name:"TotalHardware",setup(){const{lines:e,configuratorAdditionalItems:a}=(0,y.Z)(),t=[{name:"label",required:!0,label:"",align:"left",field:e=>e.label,sortable:!1},{name:"value",required:!0,label:"",align:"left",field:e=>e.value,sortable:!1}],l=[{label:"Number of WASPLAB",value:e.value.length},{label:"Number of WASP",value:e.value.length>0?e.value.map((e=>e.numberOfWasp)).reduce(((e,a)=>e+a)):0},{label:"Number of air incubators",value:e.value.length>0?e.value.map((e=>e.numberOfO2Incubator)).reduce(((e,a)=>e+a)):0},{label:"Number of CO2 incubators",value:e.value.length>0?e.value.map((e=>e.numberOfCO2Incubator)).reduce(((e,a)=>e+a)):0}],o=[{label:"Number of FLO",value:a.value.flo},{label:"Number of Radian",value:e.value.length>0?e.value.filter((e=>1==e.radian)).length:0},{label:"Number of Phenomatrix",value:e.value.length>0?e.value.filter((e=>1==e.phenomatrix)).length:0},{label:"Number of ColibrÃ¬",value:a.value.colibri}],n=[{label:"Number of Collaborative stations",value:e.value.length>0?e.value.filter((e=>1==e.collaborativeStation)).length:0},{label:"Number of Manual stations",value:a.value.manualStation},{label:"Number of Reading stations",value:a.value.readingStation},{label:"Number of Picking stations",value:a.value.pickingStation}];return{outputColumns:t,outputRowsT1:l,outputRowsT2:o,outputRowsT3:n}}}),k=t(7617),I=t(8055),P=t(3712),C=t(7794),_=t(1410),S=t.n(_);const q=(0,k.Z)(W,[["render",O]]);var Z=q;S()(W,"components",{QCard:I.Z,QItemLabel:P.Z,QTable:C.Z});var x=t(3201);function R(e,a,t,o,n,r){const s=(0,l.up)("q-item-label"),i=(0,l.up)("q-td"),u=(0,l.up)("q-checkbox"),d=(0,l.up)("q-tr"),c=(0,l.up)("q-table"),p=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(p,{class:"q-pa-sm q-mt-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-mb-sm",overline:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,x.zw)(e.title),1)])),_:1}),(0,l.Wm)(c,{columns:e.tableColumns,rows:e.line,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,l.w5)((e=>[(0,l.Wm)(d,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{key:"numberOfWasp",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,x.zw)(e.row.numberOfWasp),1)])),_:2},1032,["props"]),(0,l.Wm)(i,{key:"numberOfO2Incubator",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,x.zw)(e.row.numberOfO2Incubator),1)])),_:2},1032,["props"]),(0,l.Wm)(i,{key:"numberOfCO2Incubator",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,x.zw)(e.row.numberOfCO2Incubator),1)])),_:2},1032,["props"]),(0,l.Wm)(i,{key:"collaborativeStation",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{readonly:"",dense:"",modelValue:e.row.collaborativeStation,"onUpdate:modelValue":a=>e.row.collaborativeStation=a,disable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(i,{key:"radian",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{readonly:"",dense:"",modelValue:e.row.radian,"onUpdate:modelValue":a=>e.row.radian=a,disable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(i,{key:"phenomatrix",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{readonly:"",dense:"",modelValue:e.row.phenomatrix,"onUpdate:modelValue":a=>e.row.phenomatrix=a,disable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(i,{key:"waspOccupancyRate",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,x.zw)(e.row.waspOccupancyRate.toFixed(2))+" % ",1)])),_:2},1032,["props"]),(0,l.Wm)(i,{key:"wasplabOccupancyRate",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,x.zw)(isFinite(e.row.wasplabOccupancyRate)?e.row.wasplabOccupancyRate.toFixed(2)+" %":"N/A"),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1})}var U=(0,l.aZ)({name:"ConfigLines",props:["title","lineId"],setup(e){const a=[{name:"numberOfWasp",label:"WASP",align:"left",field:e=>e.numberOfWasp},{name:"numberOfO2Incubator",label:"Air incubator",align:"left",field:e=>e.numberOfO2Incubator},{name:"numberOfCO2Incubator",label:"CO2 incubator",align:"left",field:e=>e.numberOfCO2Incubator},{name:"collaborativeStation",label:"Collaborative station",align:"left",field:e=>e.collaborativeStation},{name:"radian",label:"Radian",align:"left",field:e=>e.radian},{name:"phenomatrix",label:"Phenomatrix",align:"left",field:e=>e.phenomatrix},{name:"waspOccupancyRate",label:"WASP Occupancy rate",align:"left",field:e=>e.waspOccupancyRate},{name:"wasplabOccupancyRate",label:"WASPLAB Occupancy rate",align:"left",field:e=>e.wasplabOccupancyRate}],{lines:t}=(0,y.Z)(),l=t.value.filter((a=>a.id==e.lineId));return{tableColumns:a,line:l}}}),N=t(8231),T=t(7282),D=t(9109);const H=(0,k.Z)(U,[["render",R]]);var V=H;function A(e,a,t,o,n,r){const s=(0,l.up)("apexchart"),i=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(i,{class:"q-pa-sm q-mt-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{type:"bar",height:"350",options:e.chartOptions,series:e.series},null,8,["options","series"])])),_:1})}S()(U,"components",{QCard:I.Z,QItemLabel:P.Z,QTable:C.Z,QTr:N.Z,QTd:T.Z,QCheckbox:D.Z});var Q=(0,l.aZ)({name:"WaspChart",props:{lineId:{type:Object,required:!0},wasp:{type:Object,required:!0}},setup(e){const{primaryProtocols:a,lines:t,settings:l}=(0,y.Z)(),o=t.value.find((a=>a.id==e.lineId)),n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];a.value.forEach((a=>{for(let t=0;t<a.volumes.length;t++){let r=o?.protocols.find((e=>e.id==a.id))?.wasp1Plates||0;2==e.wasp&&(r=o?.protocols.find((e=>e.id==a.id))?.wasp2Plates||0);const s=r*(a.volumes[t]||0)/100*(l.value.plates.streakingPatterns.find((e=>e.pattern==a.waspData.streakingPattern))?.timeInSeconds||0);let i=o?.protocols.find((e=>e.id==a.id))?.wasp1Slides||0;2==e.wasp&&(r=o?.protocols.find((e=>e.id==a.id))?.wasp2Slides||0);let u=l.value.slides.streakingPatterns.find((e=>"slide_and_other"==e.pattern))?.timeInSeconds||0;0==a.waspData.platesPerSample&&(u=l.value.slides.streakingPatterns.find((e=>"slide_only"==e.pattern))?.timeInSeconds||0);const d=i*(a.volumes[t]||0)/100*u;let c=o?.protocols.find((e=>e.id==a.id))?.wasp1Broths||0;2==e.wasp&&(r=o?.protocols.find((e=>e.id==a.id))?.wasp2Broths||0);const p=c*(a.volumes[t]||0)/100*l.value.broths.timeInSeconds;if(n[t]+=s+d+p,n[t]>3600){let e=t+1;e>n.length-1&&(e=0),n[e]+=n[t]-3600,n[t]=3600}}}));const r=[{name:"occupancy rate",data:n.map((e=>Number((e/3600*100).toFixed(2))))}],s=[];for(let u=1;u<25;u++)s.push(`${(u-1).toString().padStart(2,"0")}-${u.toString().padStart(2,"0")}`);const i={chart:{id:"vuechart-dailydata"},xaxis:{categories:s},yaxis:{max:100},colors:[function(){return"#022A55"}]};return{chartOptions:i,series:r}}});const L=(0,k.Z)(Q,[["render",A]]);var z=L;function j(e,a,t,o,n,r){const s=(0,l.up)("apexchart"),i=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(i,{class:"q-pa-sm q-mt-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{type:"bar",height:"350",options:e.chartOptions,series:e.series},null,8,["options","series"])])),_:1})}S()(Q,"components",{QCard:I.Z});var F=(0,l.aZ)({name:"WasplabChart",props:{lineId:{type:Object,required:!0}},setup(e){const{primaryProtocols:a,lines:t,settings:l}=(0,y.Z)(),o=t.value.find((a=>a.id==e.lineId)),n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];a.value.forEach((e=>{const a=Math.ceil(3600/(l.value.plates.streakingPatterns.find((a=>a.pattern==e.waspData.streakingPattern))?.timeInSeconds||0));for(let t=0;t<e.volumes.length;t++){const l=((o?.protocols.find((a=>a.id==e.id))?.wasp1Plates||0)+(o?.protocols.find((a=>a.id==e.id))?.wasp2Plates||0))*((e.volumes[t]||0)/100);if(n[t]+=l,n[t]>a){let e=t+1;e>n.length-1&&(e=0),n[e]+=n[t]-a,n[t]=a}}}));const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];a.value.forEach((e=>{const a=(100-e.negativityRate)/100,t=e.negativityRate/100,d=Math.max(...e.wasplabData.co2.readHours.split(",").map((e=>Number(e)))||[]),c=Math.max(...e.wasplabData.air.readHours.split(",").map((e=>Number(e)))||[]);for(let p=0;p<e.volumes.length;p++){const m=new Date(Date.UTC(2017,0,1,p-1,0,0,0)),b=new Date(m.getTime()+60*d*60*1e3),f=b.getHours(),w=new Date(m.getTime()+60*c*60*1e3),v=w.getHours();let g=l.value.incubator.unloadingSinglePlatesPerHour;(o?.numberOfCO2Incubator||0)+(o?.numberOfO2Incubator||0)&&(g=l.value.incubator.unloadingMultiplePlatesPerHour),g=g*(e.volumes[p]||0)/100;const h=l.value.incubator.loadingPlatesPerHour,O=l.value.incubator.recordingPlatesPerHour*(e.volumes[p]||0)/100;let y=f;y>r.length-1&&(y=y-r.length-1);let W=v;W>r.length-1&&(W=W-r.length-1);const k=0==g?0:(o?.protocols.find((a=>a.id==e.id))?.co2Unloading||0)*a/(g/3600)/(o?.numberOfCO2Incubator||0);r[y]+=k;const I=0==g?0:(o?.protocols.find((a=>a.id==e.id))?.co2Unloading||0)*a/(g/3600)/(o?.numberOfO2Incubator||0);r[W]+=I;const P=n[p]/(h/3600);s[p]+=P;const C=n[p]/(h/3600);s[p]+=C;const _=0==O?0:(o?.protocols.find((a=>a.id==e.id))?.co2Recording||0)/(O/3600)/(o?.numberOfCO2Incubator||0);i[y]+=_;const S=0==O?0:(o?.protocols.find((a=>a.id==e.id))?.o2Recording||0)/(O/3600)/(o?.numberOfO2Incubator||0);i[W]+=S;const q=0==g?0:(o?.protocols.find((a=>a.id==e.id))?.co2Unloading||0)*t/(g/3600)/(o?.numberOfCO2Incubator||0);u[y]+=q;const Z=0==g?0:(o?.protocols.find((a=>a.id==e.id))?.o2Unloading||0)*t/(g/3600)/(o?.numberOfO2Incubator||0);u[W]+=Z}}));const d=[{name:"Loading",data:s.map((e=>Number((e/3600*100).toFixed(2)))),color:"#7794FB"}],c=[];for(let m=1;m<25;m++)c.push(`${(m-1).toString().padStart(2,"0")}-${m.toString().padStart(2,"0")}`);const p={chart:{type:"bar",height:350,stacked:!0},xaxis:{categories:c},yaxis:{}};return{chartOptions:p,series:d}}});const B=(0,k.Z)(F,[["render",j]]);var M=B;S()(F,"components",{QCard:I.Z});var $=(0,l.aZ)({name:"OutputView",components:{TotalHardware:Z,OutputLine:V,WaspChart:z,WasplabChart:M},setup(){const{lines:e}=(0,y.Z)();return{lines:e}}});const E=(0,k.Z)($,[["render",b]]);var Y=E}}]);
//# sourceMappingURL=output.18ac6139.js.map