"use strict";(self["webpackChunkcopan_sizing_tool"]=self["webpackChunkcopan_sizing_tool"]||[]).push([[814],{4487:function(e,a,l){l.d(a,{Z:function(){return i}});var o=l(9269),t=l(6237),r=l(2952),s=l(570),n=l(3856);function d(e,a=new WeakMap){if(Object(e)!==e)return e;if(a.has(e))return a.get(e);const l=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:"function"!==typeof e.constructor?Object.create(null):void 0!==e.prototype&&"function"===typeof e.prototype.constructor?e:new e.constructor;if("function"===typeof e.constructor&&"function"===typeof e.valueOf){const l=e.valueOf();if(Object(l)!==l){const o=new e.constructor(l);return a.set(e,o),o}}return a.set(e,l),e instanceof Set?e.forEach((e=>{l.add(d(e,a))})):e instanceof Map&&e.forEach(((e,o)=>{l.set(o,d(e,a))})),Object.assign(l,...Object.keys(e).map((l=>({[l]:d(e[l],a)}))))}var u=l(728),m=l(3613),i=(0,n.L)({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","before-show","show","before-hide","hide"],setup(e,{slots:a,emit:l}){const{proxy:n}=(0,o.FN)(),{$q:i}=n,p=(0,t.iH)(null),c=(0,t.iH)(""),f=(0,t.iH)("");let y=!1;const w=(0,o.Fl)((()=>{const a={initialValue:c.value,validate:e.validate,set:P,cancel:v,updatePosition:b};return(0,m.g)(a,"value",(()=>f.value),(e=>{f.value=e})),a}));function P(){!1!==e.validate(f.value)&&(!0===g()&&(l("save",f.value,c.value),l("update:modelValue",f.value)),V())}function v(){!0===g()&&l("cancel",f.value,c.value),V()}function b(){(0,o.Y3)((()=>{p.value.updatePosition()}))}function g(){return!1===(0,u.xb)(f.value,c.value)}function V(){y=!0,p.value.hide()}function h(){y=!1,c.value=d(e.modelValue),f.value=d(e.modelValue),l("before-show")}function D(){l("show")}function W(){!1===y&&!0===g()&&(!0===e.autoSave&&!0===e.validate(f.value)?(l("save",f.value,c.value),l("update:modelValue",f.value)):l("cancel",f.value,c.value)),l("before-hide")}function U(){l("hide")}function _(){const l=void 0!==a.default?[].concat(a.default(w.value)):[];return e.title&&l.unshift((0,o.h)("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),!0===e.buttons&&l.push((0,o.h)("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[(0,o.h)(s.Z,{flat:!0,color:e.color,label:e.labelCancel||i.lang.label.cancel,onClick:v}),(0,o.h)(s.Z,{flat:!0,color:e.color,label:e.labelSet||i.lang.label.set,onClick:P})])),l}return Object.assign(n,{set:P,cancel:v,show(e){null!==p.value&&p.value.show(e)},hide(e){null!==p.value&&p.value.hide(e)},updatePosition:b}),()=>{if(!0!==e.disable)return(0,o.h)(r.Z,{ref:p,class:"q-popup-edit",cover:e.cover,onBeforeShow:h,onShow:D,onBeforeHide:W,onHide:U,onEscapeKey:v},_)}}})},6830:function(e,a,l){var o;l.d(a,{Z:function(){return f}});var t=new Uint8Array(16);function r(){if(!o&&(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(t)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function n(e){return"string"===typeof e&&s.test(e)}for(var d=n,u=[],m=0;m<256;++m)u.push((m+256).toString(16).substr(1));function i(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=(u[e[a+0]]+u[e[a+1]]+u[e[a+2]]+u[e[a+3]]+"-"+u[e[a+4]]+u[e[a+5]]+"-"+u[e[a+6]]+u[e[a+7]]+"-"+u[e[a+8]]+u[e[a+9]]+"-"+u[e[a+10]]+u[e[a+11]]+u[e[a+12]]+u[e[a+13]]+u[e[a+14]]+u[e[a+15]]).toLowerCase();if(!d(l))throw TypeError("Stringified UUID is invalid");return l}var p=i;function c(e,a,l){e=e||{};var o=e.random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,a){l=l||0;for(var t=0;t<16;++t)a[l+t]=o[t];return a}return p(o)}var f=c},4778:function(e,a,l){l.r(a),l.d(a,{default:function(){return da}});var o=l(9269);const t={class:"row"},r={class:"col"},s={class:"row"},n={class:"col"},d={class:"row"},u={class:"col"},m={class:"row"},i={class:"col"},p={class:"row"},c={class:"col"},f={class:"row"},y={class:"col"},w={class:"row"},P={class:"col"},v={class:"row"},b={class:"col"},g={class:"col"},V=(0,o.Uk)("CALCOLA");function h(e,a,l,h,D,W){const U=(0,o.up)("SamplesPerDay"),_=(0,o.up)("GrowthTrends"),S=(0,o.up)("FteHours"),k=(0,o.up)("PrimaryProtocols"),q=(0,o.up)("PrimaryProtocolsDetails"),Z=(0,o.up)("SecondaryProtocols"),T=(0,o.up)("DailyVolumes"),C=(0,o.up)("PeakDayResult"),x=(0,o.up)("DailyChart"),M=(0,o.up)("q-btn"),I=(0,o.up)("q-page-sticky");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",t,[(0,o._)("div",r,[(0,o.Wm)(U)])]),(0,o._)("div",s,[(0,o._)("div",n,[(0,o.Wm)(_)])]),(0,o._)("div",d,[(0,o._)("div",u,[(0,o.Wm)(S)])]),(0,o._)("div",m,[(0,o._)("div",i,[(0,o.Wm)(k)])]),(0,o._)("div",p,[(0,o._)("div",c,[(0,o.Wm)(q)])]),(0,o._)("div",f,[(0,o._)("div",y,[(0,o.Wm)(Z)])]),(0,o._)("div",w,[(0,o._)("div",P,[(0,o.Wm)(T)])]),(0,o._)("div",v,[(0,o._)("div",b,[(0,o.Wm)(C)]),(0,o._)("div",g,[(0,o.Wm)(x,{"daily-data":e.dailyData},null,8,["daily-data"])])]),(0,o.Wm)(I,{position:"top-right",offset:[18,18]},{default:(0,o.w5)((()=>[(0,o.Wm)(M,{fab:"",color:"primary",onClick:e.calcola},{default:(0,o.w5)((()=>[V])),_:1},8,["onClick"])])),_:1})],64)}const D=(0,o.Uk)("Samples per day"),W={class:"row q-gutter-xs"},U={class:"col"},_={class:"col"},S={class:"col"},k={class:"col"},q={class:"col"},Z={class:"col"},T={class:"col"};function C(e,a,l,t,r,s){const n=(0,o.up)("q-item-label"),d=(0,o.up)("q-input"),u=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(u,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[D])),_:1}),(0,o._)("div",W,[(0,o._)("div",U,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.samplesPerDay[0].samples,"onUpdate:modelValue":a[0]||(a[0]=a=>e.samplesPerDay[0].samples=a),modelModifiers:{number:!0},label:"Monday",hint:"samples","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",_,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.samplesPerDay[1].samples,"onUpdate:modelValue":a[1]||(a[1]=a=>e.samplesPerDay[1].samples=a),modelModifiers:{number:!0},label:"Tuesday",hint:"samples","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",S,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.samplesPerDay[2].samples,"onUpdate:modelValue":a[2]||(a[2]=a=>e.samplesPerDay[2].samples=a),modelModifiers:{number:!0},label:"Wednesday",hint:"samples","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",k,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.samplesPerDay[3].samples,"onUpdate:modelValue":a[3]||(a[3]=a=>e.samplesPerDay[3].samples=a),modelModifiers:{number:!0},label:"Thursday",hint:"samples","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",q,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.samplesPerDay[4].samples,"onUpdate:modelValue":a[4]||(a[4]=a=>e.samplesPerDay[4].samples=a),modelModifiers:{number:!0},label:"Friday",hint:"samples","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",Z,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.samplesPerDay[5].samples,"onUpdate:modelValue":a[5]||(a[5]=a=>e.samplesPerDay[5].samples=a),modelModifiers:{number:!0},label:"Saturday",hint:"samples","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",T,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.samplesPerDay[6].samples,"onUpdate:modelValue":a[6]||(a[6]=a=>e.samplesPerDay[6].samples=a),modelModifiers:{number:!0},label:"Sunday",hint:"samples","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])])])])),_:1})}var x=l(3961),M=(0,o.aZ)({name:"SamplesPerDay",setup(){const{samplesPerDay:e}=(0,x.Z)();return{samplesPerDay:e}}}),I=l(7617),z=l(8055),Q=l(3712),O=l(6931),A=l(1410),H=l.n(A);const K=(0,I.Z)(M,[["render",C]]);var B=K;H()(M,"components",{QCard:z.Z,QItemLabel:Q.Z,QInput:O.Z});const R=(0,o.Uk)("Growth trends"),L={class:"row q-gutter-xs"},E={class:"col"},$={class:"col"},F={class:"col"},Y={class:"row q-gutter-xs"};function j(e,a,l,t,r,s){const n=(0,o.up)("q-item-label"),d=(0,o.up)("q-input"),u=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(u,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[R])),_:1}),(0,o._)("div",L,[(0,o._)("div",E,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.growthTrends.startYear,"onUpdate:modelValue":a[0]||(a[0]=a=>e.growthTrends.startYear=a),modelModifiers:{number:!0},label:"Start Year","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",$,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.growthTrends.endYear,"onUpdate:modelValue":a[1]||(a[1]=a=>e.growthTrends.endYear=a),modelModifiers:{number:!0},label:"End Year","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",F,[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.growthTrends.yearOfReference,"onUpdate:modelValue":a[2]||(a[2]=a=>e.growthTrends.yearOfReference=a),modelModifiers:{number:!0},label:"Year of reference",min:e.growthTrends.startYear,max:e.growthTrends.endYear,"lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","min","max","rules"])])]),(0,o._)("div",Y,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.deltaYear,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a,class:"col"},[(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.growthTrends.growthTrends[a-1],"onUpdate:modelValue":l=>e.growthTrends.growthTrends[a-1]=l,modelModifiers:{number:!0},label:(e.growthTrends.startYear+a).toString(),hint:"%","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","onUpdate:modelValue","label","rules"])])))),128))])])),_:1})}var N=(0,o.aZ)({name:"GrowthTrends",setup(){const{growthTrends:e}=(0,x.Z)();return{growthTrends:e}},computed:{deltaYear(){return this.growthTrends.endYear-this.growthTrends.startYear}}});const G=(0,I.Z)(N,[["render",j]]);var J=G;H()(N,"components",{QCard:z.Z,QItemLabel:Q.Z,QInput:O.Z});const X=(0,o.Uk)("FTE hours"),ee={class:"row q-gutter-xs"},ae={class:"col"},le=(0,o.Uk)("WASP"),oe={class:"col"},te=(0,o.Uk)("Manual streaking"),re={class:"col"},se=(0,o.Uk)("Screening"),ne={class:"col"},de=(0,o.Uk)("Reading"),ue={class:"col"},me=(0,o.Uk)("Colibrì");function ie(e,a,l,t,r,s){const n=(0,o.up)("q-item-label"),d=(0,o.up)("q-input"),u=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(u,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[X])),_:1}),(0,o._)("div",ee,[(0,o._)("div",ae,[(0,o.Wm)(n,{class:"q-mb-sm text-caption"},{default:(0,o.w5)((()=>[le])),_:1}),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.wasp.start,"onUpdate:modelValue":a[0]||(a[0]=a=>e.fteHours.wasp.start=a),modelModifiers:{number:!0},label:"Start","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"]),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.wasp.end,"onUpdate:modelValue":a[1]||(a[1]=a=>e.fteHours.wasp.end=a),modelModifiers:{number:!0},label:"End","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",oe,[(0,o.Wm)(n,{class:"q-mb-sm text-caption"},{default:(0,o.w5)((()=>[te])),_:1}),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.manualStreaking.start,"onUpdate:modelValue":a[2]||(a[2]=a=>e.fteHours.manualStreaking.start=a),modelModifiers:{number:!0},label:"Start","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"]),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.manualStreaking.end,"onUpdate:modelValue":a[3]||(a[3]=a=>e.fteHours.manualStreaking.end=a),modelModifiers:{number:!0},label:"End","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",re,[(0,o.Wm)(n,{class:"q-mb-sm text-caption"},{default:(0,o.w5)((()=>[se])),_:1}),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.screening.start,"onUpdate:modelValue":a[4]||(a[4]=a=>e.fteHours.screening.start=a),modelModifiers:{number:!0},label:"Start","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"]),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.screening.end,"onUpdate:modelValue":a[5]||(a[5]=a=>e.fteHours.screening.end=a),modelModifiers:{number:!0},label:"End","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",ne,[(0,o.Wm)(n,{class:"q-mb-sm text-caption"},{default:(0,o.w5)((()=>[de])),_:1}),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.reading.start,"onUpdate:modelValue":a[6]||(a[6]=a=>e.fteHours.reading.start=a),modelModifiers:{number:!0},label:"Start","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"]),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.reading.end,"onUpdate:modelValue":a[7]||(a[7]=a=>e.fteHours.reading.end=a),modelModifiers:{number:!0},label:"End","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,o._)("div",ue,[(0,o.Wm)(n,{class:"q-mb-sm text-caption"},{default:(0,o.w5)((()=>[me])),_:1}),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.colibri.start,"onUpdate:modelValue":a[8]||(a[8]=a=>e.fteHours.colibri.start=a),modelModifiers:{number:!0},label:"Start","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"]),(0,o.Wm)(d,{dense:"",filled:"",type:"number",modelValue:e.fteHours.colibri.end,"onUpdate:modelValue":a[9]||(a[9]=a=>e.fteHours.colibri.end=a),modelModifiers:{number:!0},label:"End","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])])])])),_:1})}var pe=(0,o.aZ)({name:"FteHours",setup(){const{fteHours:e}=(0,x.Z)();return{fteHours:e}}});const ce=(0,I.Z)(pe,[["render",ie]]);var fe=ce;H()(pe,"components",{QCard:z.Z,QItemLabel:Q.Z,QInput:O.Z});var ye=l(3201),we=l(5102);const Pe=(0,o.Uk)("Primary protocols");function ve(e,a,l,t,r,s){const n=(0,o.up)("q-item-label"),d=(0,o.up)("q-input"),u=(0,o.up)("q-popup-edit"),m=(0,o.up)("q-td"),i=(0,o.up)("q-checkbox"),p=(0,o.up)("q-select"),c=(0,o.up)("q-btn"),f=(0,o.up)("q-tr"),y=(0,o.up)("q-table"),w=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(w,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[Pe])),_:1}),(0,o.Wm)(y,{columns:e.tableColumns,rows:e.primaryProtocols,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,o.w5)((a=>[(0,o.Wm)(f,{props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{key:"name",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.name)+" ",1),(0,o.Wm)(u,{modelValue:a.row.name,"onUpdate:modelValue":e=>a.row.name=e,"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"wasp",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{dense:"",modelValue:a.row.hasWasp,"onUpdate:modelValue":e=>a.row.hasWasp=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"waspLab",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{dense:"",modelValue:a.row.hasWasplab,"onUpdate:modelValue":e=>a.row.hasWasplab=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"pictureT0",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{dense:"",modelValue:a.row.pictureT0,"onUpdate:modelValue":e=>a.row.pictureT0=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"samplesPerDayAvg",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.samplesPerDayAvg)+" ",1),(0,o.Wm)(u,{modelValue:a.row.samplesPerDayAvg,"onUpdate:modelValue":e=>a.row.samplesPerDayAvg=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"waspData_streakingPattern",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{dense:"",modelValue:a.row.waspData.streakingPattern,"onUpdate:modelValue":e=>a.row.waspData.streakingPattern=e,options:["1","2","3","4"]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"waspData_platesPerSample",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.waspData.platesPerSample)+" ",1),(0,o.Wm)(u,{modelValue:a.row.waspData.platesPerSample,"onUpdate:modelValue":e=>a.row.waspData.platesPerSample=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"waspData_slidesPerSample",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.waspData.slidesPerSample)+" ",1),(0,o.Wm)(u,{modelValue:a.row.waspData.slidesPerSample,"onUpdate:modelValue":e=>a.row.waspData.slidesPerSample=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"waspData_brothsPerSample",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.waspData.brothsPerSample)+" ",1),(0,o.Wm)(u,{modelValue:a.row.waspData.brothsPerSample,"onUpdate:modelValue":e=>a.row.waspData.brothsPerSample=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"wasplabData_air_platesPerSample",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.wasplabData.air.platesPerSample)+" ",1),(0,o.Wm)(u,{modelValue:a.row.wasplabData.air.platesPerSample,"onUpdate:modelValue":e=>a.row.wasplabData.air.platesPerSample=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"wasplabData_air_readHours",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.wasplabData.air.readHours)+" ",1),(0,o.Wm)(u,{modelValue:a.row.wasplabData.air.readHours,"onUpdate:modelValue":e=>a.row.wasplabData.air.readHours=e,"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"wasplabData_co2_platesPerSample",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.wasplabData.co2.platesPerSample)+" ",1),(0,o.Wm)(u,{modelValue:a.row.wasplabData.co2.platesPerSample,"onUpdate:modelValue":e=>a.row.wasplabData.co2.platesPerSample=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"wasplabData_co2_readHours",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.wasplabData.co2.readHours)+" ",1),(0,o.Wm)(u,{modelValue:a.row.wasplabData.co2.readHours,"onUpdate:modelValue":e=>a.row.wasplabData.co2.readHours=e,"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(m,{key:"actions",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{flat:"",round:"",color:"red",icon:"remove_circleoutline",size:"xs",onClick:l=>e.removeProtocol(a.row.id)},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"]),(0,o.Wm)(c,{class:"q-mt-md",label:"Add",type:"button",color:"secondary",onClick:e.addProtocol},null,8,["onClick"])])),_:1})}var be=l(6830),ge=(0,o.aZ)({name:"PrimaryProtocols",setup(){const e=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"wasp",label:"WASP",align:"left",field:e=>e.hasWasp},{name:"waspLab",label:"WASPLAB",align:"left",field:e=>e.hasWasplab},{name:"pictureT0",label:"Picture t0",align:"left",field:e=>e.pictureT0},{name:"samplesPerDayAvg",label:"Samples per day",align:"left",field:e=>e.samplesPerDayAvg},{name:"waspData_streakingPattern",label:"WASP streaking pattern",align:"left",field:e=>e.waspData.streakingPattern},{name:"waspData_platesPerSample",label:"WASP plates",align:"left",field:e=>e.waspData.platesPerSample},{name:"waspData_slidesPerSample",label:"WASP slides",align:"left",field:e=>e.waspData.slidesPerSample},{name:"waspData_brothsPerSample",label:"WASP broths",align:"left",field:e=>e.waspData.brothsPerSample},{name:"wasplabData_air_platesPerSample",label:"WASPLAB air plates",align:"left",field:e=>e.wasplabData.air.platesPerSample},{name:"wasplabData_air_readHours",label:"WASPLAB air read hours",align:"left",field:e=>e.wasplabData.air.readHours},{name:"wasplabData_co2_platesPerSample",label:"WASPLAB CO2 plates",align:"left",field:e=>e.wasplabData.co2.platesPerSample},{name:"wasplabData_co2_readHours",label:"WASPLAB CO2 read hours",align:"left",field:e=>e.wasplabData.co2.readHours},{name:"actions",label:"",align:"left",field:e=>e.id}],{primaryProtocols:a}=(0,x.Z)();return{tableColumns:e,primaryProtocols:a}},methods:{addProtocol(){const e=[];for(let a=0;a<24;a++)e.push(0);this.primaryProtocols.push({id:(0,be.Z)(),name:"protocol name",hasWasp:!1,hasWasplab:!1,pictureT0:!1,samplesPerDayAvg:0,waspData:{streakingPattern:"1",platesPerSample:0,slidesPerSample:0,brothsPerSample:0},wasplabData:{air:{platesPerSample:0,readHours:"0"},co2:{platesPerSample:0,readHours:"0"}},volumes:e,hasBrothsPercentage:!1,astPercentage:0,astIdPercentage:0,idPercentage:0,radianPercentage:0,totalPercentage:0,negativityRate:0,hasPurityPlates:!1})},removeProtocol(e){const a=this.primaryProtocols.findIndex((a=>a.id==e));a>-1&&this.primaryProtocols.splice(a,1)}}}),Ve=l(7794),he=l(8231),De=l(7282),We=l(4487),Ue=l(9109),_e=l(1903),Se=l(570);const ke=(0,I.Z)(ge,[["render",ve]]);var qe=ke;H()(ge,"components",{QCard:z.Z,QItemLabel:Q.Z,QTable:Ve.Z,QTr:he.Z,QTd:De.Z,QPopupEdit:We.Z,QInput:O.Z,QCheckbox:Ue.Z,QSelect:_e.Z,QBtn:Se.Z});const Ze=(0,o.Uk)("Protocols in-depth");function Te(e,a,l,t,r,s){const n=(0,o.up)("q-item-label"),d=(0,o.up)("q-td"),u=(0,o.up)("q-input"),m=(0,o.up)("q-popup-edit"),i=(0,o.up)("q-badge"),p=(0,o.up)("q-checkbox"),c=(0,o.up)("q-tr"),f=(0,o.up)("q-table"),y=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(y,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[Ze])),_:1}),(0,o.Wm)(f,{columns:e.tableColumns,rows:e.primaryProtocols,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,o.w5)((a=>[(0,o.Wm)(c,{props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{key:"name",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.name),1)])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"negativityRate",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.negativityRate)+" ",1),(0,o.Wm)(m,{modelValue:a.row.negativityRate,"onUpdate:modelValue":e=>a.row.negativityRate=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"idPercentage",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.idPercentage)+" ",1),(0,o.Wm)(m,{modelValue:a.row.idPercentage,"onUpdate:modelValue":e=>a.row.idPercentage=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((l=>[(0,o.Wm)(u,{modelValue:l.value,"onUpdate:modelValue":[e=>l.value=e,l=>e.setProtocolIDPercentage({id:a.row.id,value:Number(l||0)})],modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"astPercentage",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.astPercentage)+" ",1),(0,o.Wm)(m,{modelValue:a.row.astPercentage,"onUpdate:modelValue":e=>a.row.astPercentage=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((l=>[(0,o.Wm)(u,{modelValue:l.value,"onUpdate:modelValue":[e=>l.value=e,l=>e.setProtocolASTPercentage({id:a.row.id,value:Number(l||0)})],modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"astIdPercentage",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.astIdPercentage)+" ",1),(0,o.Wm)(m,{modelValue:a.row.astIdPercentage,"onUpdate:modelValue":e=>a.row.astIdPercentage=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((l=>[(0,o.Wm)(u,{modelValue:l.value,"onUpdate:modelValue":[e=>l.value=e,l=>e.setProtocolASTIDPercentage({id:a.row.id,value:Number(l||0)})],modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"radianPercentage",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.radianPercentage)+" ",1),(0,o.Wm)(m,{modelValue:a.row.radianPercentage,"onUpdate:modelValue":e=>a.row.radianPercentage=e,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((l=>[(0,o.Wm)(u,{modelValue:l.value,"onUpdate:modelValue":[e=>l.value=e,l=>e.setProtocolRadianPercentage({id:a.row.id,value:Number(l||0)})],modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"totalPercentage",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{color:100!=a.row.totalPercentage?"negative":"positive"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.totalPercentage),1)])),_:2},1032,["color"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"hasPurityPlates",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{dense:"",modelValue:a.row.hasPurityPlates,"onUpdate:modelValue":[e=>a.row.hasPurityPlates=e,l=>e.setProtocolPurityPlates({id:a.row.id,value:l})]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"hasBrothsPercentage",props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{dense:"",modelValue:a.row.hasBrothsPercentage,"onUpdate:modelValue":[e=>a.row.hasBrothsPercentage=e,l=>e.setProtocolBroth({id:a.row.id,value:l})]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1})}var Ce=(0,o.aZ)({name:"PrimaryProtocolsDetails",setup(){const e=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"negativityRate",label:"Negativity rate",align:"left",field:e=>e.negativityRate},{name:"idPercentage",label:"ID %",align:"left",field:e=>e.idPercentage},{name:"astPercentage",label:"AST %",align:"left",field:e=>e.astPercentage},{name:"astIdPercentage",label:"ID & AST %",align:"left",field:e=>e.astIdPercentage},{name:"radianPercentage",label:"Radian %",align:"left",field:e=>e.radianPercentage},{name:"totalPercentage",label:"Total %",align:"left",field:e=>e.totalPercentage},{name:"hasPurityPlates",label:"Purity Plates",align:"left",field:e=>e.hasPurityPlates},{name:"hasBrothsPercentage",label:"Broth",align:"left",field:e=>e.hasBrothsPercentage}],{primaryProtocols:a,secondaryProtocols:l}=(0,x.Z)();return{tableColumns:e,primaryProtocols:a,secondaryProtocols:l}},watch:{primaryProtocols:{handler:function(e){e.forEach((e=>{this.getProtocolTotalPercentage({id:e.id}),this.getSecondaryProtocolSample({id:e.id})}))},deep:!0}},methods:{addSecondaryProtocol(e,a){const l=this.primaryProtocols.find((a=>a.id==e));if(l){let e=(100-l.negativityRate)/100;"Purity plates"!=a&&"Broth"!=a&&("ID"==a?e=l.idPercentage/100:"AST"==a?e=l.astPercentage/100:"ID & AST"==a?e=l.astIdPercentage/100:"Radian"==a&&(e=l.radianPercentage/100)),this.secondaryProtocols.push({id:l.id,from:a,name:l.name,plates:0,platesCO2:0,platesO2:0,recordingCO2:"",recordingO2:"",samples:Math.ceil(l.samplesPerDayAvg*e)})}},removeSecondaryProtocol(e,a){const l=this.primaryProtocols.find((a=>a.id==e));if(l){const e=this.secondaryProtocols.findIndex((e=>e.id==l.id&&e.from==a));this.secondaryProtocols.splice(e,1)}},getProtocolTotalPercentage(e){const a=this.primaryProtocols.findIndex((a=>a.id==e.id));a>=0&&(this.primaryProtocols[a].totalPercentage=this.primaryProtocols[a].idPercentage+this.primaryProtocols[a].astIdPercentage+this.primaryProtocols[a].astPercentage+this.primaryProtocols[a].radianPercentage+this.primaryProtocols[a].negativityRate)},getSecondaryProtocolSample(e){const a=this.primaryProtocols.findIndex((a=>a.id==e.id));if(a>=0){const l=this.secondaryProtocols.filter((a=>a.id==e.id));l.forEach((e=>{let l=(100-this.primaryProtocols[a].negativityRate)/100;"Purity plates"!=e.from&&"Broth"!=e.from&&("ID"==e.from?l=this.primaryProtocols[a].idPercentage/100:"AST"==e.from?l=this.primaryProtocols[a].astPercentage/100:"ID & AST"==e.from?l=this.primaryProtocols[a].astIdPercentage/100:"Radian"==e.from&&(l=this.primaryProtocols[a].radianPercentage/100)),e.samples=Math.ceil(this.primaryProtocols[a].samplesPerDayAvg*l)}))}},setProtocolIDPercentage(e){if(e.value>0){const a=this.secondaryProtocols.findIndex((a=>"ID"==a.from&&a.id==e.id));a<0&&this.addSecondaryProtocol(e.id,"ID")}else this.removeSecondaryProtocol(e.id,"ID")},setProtocolASTPercentage(e){if(e.value>0){const a=this.secondaryProtocols.findIndex((a=>"AST"==a.from&&a.id==e.id));a<0&&this.addSecondaryProtocol(e.id,"AST")}else this.removeSecondaryProtocol(e.id,"AST")},setProtocolASTIDPercentage(e){if(e.value>0){const a=this.secondaryProtocols.findIndex((a=>"ID & AST"==a.from&&a.id==e.id));a<0&&this.addSecondaryProtocol(e.id,"ID & AST")}else this.removeSecondaryProtocol(e.id,"ID & AST")},setProtocolRadianPercentage(e){if(e.value>0){const a=this.secondaryProtocols.findIndex((a=>"Radian"==a.from&&a.id==e.id));a<0&&this.addSecondaryProtocol(e.id,"Radian")}else this.removeSecondaryProtocol(e.id,"Radian")},setProtocolPurityPlates(e){if(e.value){const a=this.secondaryProtocols.findIndex((a=>"Purity plates"==a.from&&a.id==e.id));a<0&&this.addSecondaryProtocol(e.id,"Purity plates")}else this.removeSecondaryProtocol(e.id,"Purity plates")},setProtocolBroth(e){if(e.value){const a=this.secondaryProtocols.findIndex((a=>"Broth"==a.from&&a.id==e.id));a<0&&this.addSecondaryProtocol(e.id,"Broth")}else this.removeSecondaryProtocol(e.id,"Broth")}}}),xe=(l(7120),l(3856)),Me=l(64);const Ie=["top","middle","bottom"];var ze=(0,xe.L)({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Ie.includes(e)}},setup(e,{slots:a}){const l=(0,o.Fl)((()=>void 0!==e.align?{verticalAlign:e.align}:null)),t=(0,o.Fl)((()=>{const a=!0===e.outline&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${!0===e.multiLine?"multi":"single"}-line`+(!0===e.outline?" q-badge--outline":void 0!==e.color?` bg-${e.color}`:"")+(void 0!==a?` text-${a}`:"")+(!0===e.floating?" q-badge--floating":"")+(!0===e.rounded?" q-badge--rounded":"")+(!0===e.transparent?" q-badge--transparent":"")}));return()=>(0,o.h)("div",{class:t.value,style:l.value,role:"alert","aria-label":e.label},(0,Me.vs)(a.default,void 0!==e.label?[e.label]:[]))}});const Qe=(0,I.Z)(Ce,[["render",Te]]);var Oe=Qe;H()(Ce,"components",{QCard:z.Z,QItemLabel:Q.Z,QTable:Ve.Z,QTr:he.Z,QTd:De.Z,QPopupEdit:We.Z,QInput:O.Z,QBadge:ze,QCheckbox:Ue.Z});const Ae=(0,o.Uk)("Secondary protocols");function He(e,a,l,t,r,s){const n=(0,o.up)("q-item-label"),d=(0,o.up)("q-td"),u=(0,o.up)("q-input"),m=(0,o.up)("q-popup-edit"),i=(0,o.up)("q-tr"),p=(0,o.up)("q-table"),c=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(c,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[Ae])),_:1}),(0,o.Wm)(p,{columns:e.tableColumns,rows:e.secondaryProtocols,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,o.w5)((e=>[(0,o.Wm)(i,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{key:"name",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"from",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.row.from),1)])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"samples",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.row.samples),1)])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"plates",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.row.plates)+" ",1),(0,o.Wm)(m,{modelValue:e.row.plates,"onUpdate:modelValue":a=>e.row.plates=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"platesO2",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.row.platesO2)+" ",1),(0,o.Wm)(m,{modelValue:e.row.platesO2,"onUpdate:modelValue":a=>e.row.platesO2=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"recordingO2",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.row.recordingO2)+" ",1),(0,o.Wm)(m,{modelValue:e.row.recordingO2,"onUpdate:modelValue":a=>e.row.recordingO2=a,"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"platesCO2",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.row.platesCO2)+" ",1),(0,o.Wm)(m,{modelValue:e.row.platesCO2,"onUpdate:modelValue":a=>e.row.platesCO2=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,o.Wm)(d,{key:"recordingCO2",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.row.recordingCO2)+" ",1),(0,o.Wm)(m,{modelValue:e.row.recordingCO2,"onUpdate:modelValue":a=>e.row.recordingCO2=a,"auto-save":""},{default:(0,o.w5)((e=>[(0,o.Wm)(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dense:"",autofocus:"",onKeyup:(0,we.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1})}var Ke=(0,o.aZ)({name:"SecondaryProtocols",setup(){const e=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"from",label:"From",align:"left",field:e=>e.from},{name:"samples",label:"Samples",align:"left",field:e=>e.samples},{name:"plates",label:"Plates",align:"left",field:e=>e.plates},{name:"platesO2",label:"Plates O2",align:"left",field:e=>e.platesO2},{name:"recordingO2",label:"Recording O2",align:"left",field:e=>e.recordingO2},{name:"platesCO2",label:"Plates CO2",align:"left",field:e=>e.platesCO2},{name:"recordingCO2",label:"Recording CO2",align:"left",field:e=>e.recordingCO2}],{secondaryProtocols:a}=(0,x.Z)();return{tableColumns:e,secondaryProtocols:a}}});const Be=(0,I.Z)(Ke,[["render",He]]);var Re=Be;H()(Ke,"components",{QCard:z.Z,QItemLabel:Q.Z,QTable:Ve.Z,QTr:he.Z,QTd:De.Z,QPopupEdit:We.Z,QInput:O.Z});const Le=(0,o.Uk)("Daily volumes");function Ee(e,a,l,t,r,s){const n=(0,o.up)("q-item-label"),d=(0,o.up)("q-badge"),u=(0,o.up)("q-td"),m=(0,o.up)("q-input"),i=(0,o.up)("q-popup-edit"),p=(0,o.up)("q-tr"),c=(0,o.up)("q-table"),f=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(f,{class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[Le])),_:1}),(0,o.Wm)(c,{dense:"",rows:e.primaryProtocols,columns:e.tableColumns,"row-key":"id","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,o.w5)((a=>[(0,o.Wm)(p,{props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{key:"name",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.name)+" ",1),(0,o.Wm)(d,{color:100!=e.totalVolumes.find((e=>e.id==a.row.id))?.totalVolume?"negative":"positive"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(e.totalVolumes.find((e=>e.id==a.row.id))?.totalVolume||0),1)])),_:2},1032,["color"])])),_:2},1032,["props"]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tableColumns.filter((e=>"name"!=e.name)),((e,l)=>((0,o.wg)(),(0,o.j4)(u,{key:e.name,props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,ye.zw)(a.row.volumes[l])+" ",1),(0,o.Wm)(i,{modelValue:a.row.volumes[l],"onUpdate:modelValue":e=>a.row.volumes[l]=e,"auto-save":""},{default:(0,o.w5)((l=>[(0,o.Wm)(m,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,dense:"",autofocus:"",onKeyup:(0,we.D2)(l.set,["enter"]),label:a.row.name+" - "+e.label},null,8,["modelValue","onUpdate:modelValue","onKeyup","label"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1})}var $e=(0,o.aZ)({name:"DailyVolumes",props:["data"],setup(){const e=[{name:"name",label:"Name",align:"left",field:e=>e.name}];for(let l=1;l<25;l++)e.push({name:`${l-1}${l}`,label:`${(l-1).toString().padStart(2,"0")}-${l.toString().padStart(2,"0")}`,align:"left",field:e=>e.volumes[l-1].toString()});const{primaryProtocols:a}=(0,x.Z)();return{tableColumns:e,primaryProtocols:a}},computed:{totalVolumes(){const e=[];return this.primaryProtocols.forEach((a=>{e.push({id:a.id,totalVolume:a.volumes.length>0?a.volumes.reduce(((e,a)=>Number(e)+Number(a))):0})})),e}}});const Fe=(0,I.Z)($e,[["render",Ee]]);var Ye=Fe;H()($e,"components",{QCard:z.Z,QItemLabel:Q.Z,QTable:Ve.Z,QTr:he.Z,QTd:De.Z,QBadge:ze,QPopupEdit:We.Z,QInput:O.Z});const je=(0,o.Uk)("Weekly workload");function Ne(e,a,l,t,r,s){const n=(0,o.up)("q-item-label"),d=(0,o.up)("q-table"),u=(0,o.up)("q-card");return e.dailyData.length>0?((0,o.wg)(),(0,o.j4)(u,{key:0,class:"q-pa-sm q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-mb-sm",overline:""},{default:(0,o.w5)((()=>[je])),_:1}),(0,o.Wm)(d,{dense:"",rows:e.dailyData,columns:e.tableColumns,"row-key":"dayOfWeek",pagination:{rowsPerPage:0},separator:"cell","hide-bottom":""},null,8,["rows","columns"])])),_:1})):(0,o.kq)("",!0)}var Ge=l(7191),Je=(0,o.aZ)({name:"PeakDay",setup(){const{dailyData:e}=(0,x.Z)(),a=[{name:"dayOfWeek",required:!0,label:"Day",align:"left",field:e=>e.dayOfWeek,format:e=>{const a=(0,Ge.tu)("en-US");return a[Number(e)]},classes:e=>e.isPeakDay?"row-peak-day":"",sortable:!1},{name:"totalSamples",required:!0,label:"Number of samples",align:"left",field:e=>e.totalSamples,classes:e=>e.isPeakDay?"row-peak-day":"",sortable:!1},{name:"percentage",required:!0,label:"Total occupancy rate",align:"left",field:e=>e.percentage,format:e=>`${Number(e).toFixed(2)} %`,classes:e=>e.isPeakDay?"row-peak-day":"",sortable:!1}];return{tableColumns:a,dailyData:e}}});const Xe=(0,I.Z)(Je,[["render",Ne]]);var ea=Xe;H()(Je,"components",{QCard:z.Z,QItemLabel:Q.Z,QTable:Ve.Z});var aa=l(2913),la=(0,o.aZ)({name:"InputView",components:{SamplesPerDay:B,GrowthTrends:J,FteHours:fe,PrimaryProtocols:qe,PrimaryProtocolsDetails:Oe,SecondaryProtocols:Re,DailyVolumes:Ye,PeakDayResult:ea,DailyChart:aa.Z},setup(){const{growthTrends:e,primaryProtocols:a,secondaryProtocols:l,samplesPerDay:o,settings:t,dailyData:r,weightedDayTimes:s,weightedDayTimesPerProtocol:n}=(0,x.Z)();return{growthTrends:e,primaryProtocols:a,secondaryProtocols:l,samplesPerDay:o,settings:t,dailyData:r,weightedDayTimes:s,weightedDayTimesPerProtocol:n}},methods:{calcola(){const e=(0,Ge.mg)({growthTrends:this.growthTrends,primaryProtocols:this.primaryProtocols,secondaryProtocols:this.secondaryProtocols,samplesPerDay:this.samplesPerDay,settings:this.settings});this.weightedDayTimes=e.weightedDaysTimesInSeconds,this.weightedDayTimesPerProtocol=e.weightedDaysTimesInSecondsPerProtocol;const a=(0,Ge.o2)(this.weightedDayTimes);this.dailyData=(0,Ge.xL)({data:a,samplesPerDay:this.samplesPerDay});const l=this.dailyData[0];this.dailyData.push(l),this.dailyData.splice(0,1)}}}),oa=l(4300);const ta={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>2===e.length},expand:Boolean};function ra(){const{props:e,proxy:a}=(0,o.FN)(),{$q:l}=a,t=(0,o.f3)(oa.YE,(()=>{console.error("QPageSticky needs to be child of QLayout")})),r=(0,o.Fl)((()=>{const a=e.position;return{top:a.indexOf("top")>-1,right:a.indexOf("right")>-1,bottom:a.indexOf("bottom")>-1,left:a.indexOf("left")>-1,vertical:"top"===a||"bottom"===a,horizontal:"left"===a||"right"===a}})),s=(0,o.Fl)((()=>t.header.offset)),n=(0,o.Fl)((()=>t.right.offset)),d=(0,o.Fl)((()=>t.footer.offset)),u=(0,o.Fl)((()=>t.left.offset)),m=(0,o.Fl)((()=>{let a=0,o=0;const t=r.value,m=!0===l.lang.rtl?-1:1;!0===t.top&&0!==s.value?o=`${s.value}px`:!0===t.bottom&&0!==d.value&&(o=-d.value+"px"),!0===t.left&&0!==u.value?a=m*u.value+"px":!0===t.right&&0!==n.value&&(a=-m*n.value+"px");const i={transform:`translate(${a}, ${o})`};return e.offset&&(i.margin=`${e.offset[1]}px ${e.offset[0]}px`),!0===t.vertical?(0!==u.value&&(i[!0===l.lang.rtl?"right":"left"]=`${u.value}px`),0!==n.value&&(i[!0===l.lang.rtl?"left":"right"]=`${n.value}px`)):!0===t.horizontal&&(0!==s.value&&(i.top=`${s.value}px`),0!==d.value&&(i.bottom=`${d.value}px`)),i})),i=(0,o.Fl)((()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--`+(!0===e.expand?"expand":"shrink")));function p(a){const l=(0,Me.KR)(a.default);return(0,o.h)("div",{class:i.value,style:m.value},!0===e.expand?l:[(0,o.h)("div",l)])}return{$layout:t,getStickyContent:p}}var sa=(0,xe.L)({name:"QPageSticky",props:ta,setup(e,{slots:a}){const{getStickyContent:l}=ra();return()=>l(a)}});const na=(0,I.Z)(la,[["render",h]]);var da=na;H()(la,"components",{QPageSticky:sa,QBtn:Se.Z})}}]);
//# sourceMappingURL=input.ba8f3d35.js.map