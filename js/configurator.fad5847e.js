"use strict";(self["webpackChunkcopan_sizing_tool"]=self["webpackChunkcopan_sizing_tool"]||[]).push([[480],{8579:function(e,a,o){o.d(a,{Z:function(){return d}});var l=o(3856),t=(o(7120),o(9269)),n=o(64),i=o(4300);const s={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>2===e.length},expand:Boolean};function r(){const{props:e,proxy:a}=(0,t.FN)(),{$q:o}=a,l=(0,t.f3)(i.YE,(()=>{console.error("QPageSticky needs to be child of QLayout")})),s=(0,t.Fl)((()=>{const a=e.position;return{top:a.indexOf("top")>-1,right:a.indexOf("right")>-1,bottom:a.indexOf("bottom")>-1,left:a.indexOf("left")>-1,vertical:"top"===a||"bottom"===a,horizontal:"left"===a||"right"===a}})),r=(0,t.Fl)((()=>l.header.offset)),d=(0,t.Fl)((()=>l.right.offset)),p=(0,t.Fl)((()=>l.footer.offset)),u=(0,t.Fl)((()=>l.left.offset)),c=(0,t.Fl)((()=>{let a=0,l=0;const t=s.value,n=!0===o.lang.rtl?-1:1;!0===t.top&&0!==r.value?l=`${r.value}px`:!0===t.bottom&&0!==p.value&&(l=-p.value+"px"),!0===t.left&&0!==u.value?a=n*u.value+"px":!0===t.right&&0!==d.value&&(a=-n*d.value+"px");const i={transform:`translate(${a}, ${l})`};return e.offset&&(i.margin=`${e.offset[1]}px ${e.offset[0]}px`),!0===t.vertical?(0!==u.value&&(i[!0===o.lang.rtl?"right":"left"]=`${u.value}px`),0!==d.value&&(i[!0===o.lang.rtl?"left":"right"]=`${d.value}px`)):!0===t.horizontal&&(0!==r.value&&(i.top=`${r.value}px`),0!==p.value&&(i.bottom=`${p.value}px`)),i})),m=(0,t.Fl)((()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--`+(!0===e.expand?"expand":"shrink")));function f(a){const o=(0,n.KR)(a.default);return(0,t.h)("div",{class:m.value,style:c.value},!0===e.expand?o:[(0,t.h)("div",o)])}return{$layout:l,getStickyContent:f}}var d=(0,l.L)({name:"QPageSticky",props:s,setup(e,{slots:a}){const{getStickyContent:o}=r();return()=>o(a)}})},4487:function(e,a,o){o.d(a,{Z:function(){return u}});var l=o(9269),t=o(6237),n=o(2952),i=o(570),s=o(3856);function r(e,a=new WeakMap){if(Object(e)!==e)return e;if(a.has(e))return a.get(e);const o=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:"function"!==typeof e.constructor?Object.create(null):void 0!==e.prototype&&"function"===typeof e.prototype.constructor?e:new e.constructor;if("function"===typeof e.constructor&&"function"===typeof e.valueOf){const o=e.valueOf();if(Object(o)!==o){const l=new e.constructor(o);return a.set(e,l),l}}return a.set(e,o),e instanceof Set?e.forEach((e=>{o.add(r(e,a))})):e instanceof Map&&e.forEach(((e,l)=>{o.set(l,r(e,a))})),Object.assign(o,...Object.keys(e).map((o=>({[o]:r(e[o],a)}))))}var d=o(728),p=o(3613),u=(0,s.L)({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","before-show","show","before-hide","hide"],setup(e,{slots:a,emit:o}){const{proxy:s}=(0,l.FN)(),{$q:u}=s,c=(0,t.iH)(null),m=(0,t.iH)(""),f=(0,t.iH)("");let w=!1;const g=(0,l.Fl)((()=>{const a={initialValue:m.value,validate:e.validate,set:y,cancel:b,updatePosition:h};return(0,p.g)(a,"value",(()=>f.value),(e=>{f.value=e})),a}));function y(){!1!==e.validate(f.value)&&(!0===v()&&(o("save",f.value,m.value),o("update:modelValue",f.value)),k())}function b(){!0===v()&&o("cancel",f.value,m.value),k()}function h(){(0,l.Y3)((()=>{c.value.updatePosition()}))}function v(){return!1===(0,d.xb)(f.value,m.value)}function k(){w=!0,c.value.hide()}function P(){w=!1,m.value=r(e.modelValue),f.value=r(e.modelValue),o("before-show")}function O(){o("show")}function W(){!1===w&&!0===v()&&(!0===e.autoSave&&!0===e.validate(f.value)?(o("save",f.value,m.value),o("update:modelValue",f.value)):o("cancel",f.value,m.value)),o("before-hide")}function V(){o("hide")}function U(){const o=void 0!==a.default?[].concat(a.default(g.value)):[];return e.title&&o.unshift((0,l.h)("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),!0===e.buttons&&o.push((0,l.h)("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[(0,l.h)(i.Z,{flat:!0,color:e.color,label:e.labelCancel||u.lang.label.cancel,onClick:b}),(0,l.h)(i.Z,{flat:!0,color:e.color,label:e.labelSet||u.lang.label.set,onClick:y})])),o}return Object.assign(s,{set:y,cancel:b,show(e){null!==c.value&&c.value.show(e)},hide(e){null!==c.value&&c.value.hide(e)},updatePosition:h}),()=>{if(!0!==e.disable)return(0,l.h)(n.Z,{ref:c,class:"q-popup-edit",cover:e.cover,onBeforeShow:P,onShow:O,onBeforeHide:W,onHide:V,onEscapeKey:b},U)}}})},6830:function(e,a,o){var l;o.d(a,{Z:function(){return f}});var t=new Uint8Array(16);function n(){if(!l&&(l="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(t)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(e){return"string"===typeof e&&i.test(e)}for(var r=s,d=[],p=0;p<256;++p)d.push((p+256).toString(16).substr(1));function u(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(d[e[a+0]]+d[e[a+1]]+d[e[a+2]]+d[e[a+3]]+"-"+d[e[a+4]]+d[e[a+5]]+"-"+d[e[a+6]]+d[e[a+7]]+"-"+d[e[a+8]]+d[e[a+9]]+"-"+d[e[a+10]]+d[e[a+11]]+d[e[a+12]]+d[e[a+13]]+d[e[a+14]]+d[e[a+15]]).toLowerCase();if(!r(o))throw TypeError("Stringified UUID is invalid");return o}var c=u;function m(e,a,o){e=e||{};var l=e.random||(e.rng||n)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,a){o=o||0;for(var t=0;t<16;++t)a[o+t]=l[t];return a}return c(l)}var f=m},4119:function(e,a,o){o.r(a),o.d(a,{default:function(){return G}});var l=o(9269);const t={class:"row"},n={class:"col"},i={class:"row"},s={class:"col"},r={class:"col"},d=(0,l.Uk)("SAVE");function p(e,a,o,p,u,c){const m=(0,l.up)("AdditionalItems"),f=(0,l.up)("Lines"),w=(0,l.up)("Protocols"),g=(0,l.up)("q-btn"),y=(0,l.up)("q-page-sticky");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",t,[(0,l._)("div",n,[(0,l.Wm)(m)])]),(0,l._)("div",i,[(0,l._)("div",s,[(0,l.Wm)(f)])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.lines,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"row"},[(0,l._)("div",r,[(0,l.Wm)(w,{title:e.name,lineId:e.id},null,8,["title","lineId"])])])))),128)),(0,l.Wm)(y,{position:"top-right",offset:[18,18]},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{fab:"",color:"primary",onClick:e.calcola},{default:(0,l.w5)((()=>[d])),_:1},8,["onClick"])])),_:1})],64)}var u=o(3961),c=o(3201),m=o(5102);const f=(0,l.Uk)("Lines");function w(e,a,o,t,n,i){const s=(0,l.up)("q-item-label"),r=(0,l.up)("q-input"),d=(0,l.up)("q-popup-edit"),p=(0,l.up)("q-td"),u=(0,l.up)("q-select"),w=(0,l.up)("q-checkbox"),g=(0,l.up)("q-btn"),y=(0,l.up)("q-tr"),b=(0,l.up)("q-table"),h=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(h,{class:"q-pa-sm q-mt-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-mb-sm",overline:""},{default:(0,l.w5)((()=>[f])),_:1}),(0,l.Wm)(b,{columns:e.tableColumns,rows:e.lines,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,l.w5)((a=>[(0,l.Wm)(y,{props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{key:"name",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(a.row.name)+" ",1),(0,l.Wm)(d,{modelValue:a.row.name,"onUpdate:modelValue":e=>a.row.name=e,"auto-save":""},{default:(0,l.w5)((e=>[(0,l.Wm)(r,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dense:"",autofocus:"",onKeyup:(0,m.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"numberOfWasp",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",modelValue:a.row.numberOfWasp,"onUpdate:modelValue":e=>a.row.numberOfWasp=e,modelModifiers:{number:!0},options:[1,2]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"numberOfO2Incubator",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",modelValue:a.row.numberOfO2Incubator,"onUpdate:modelValue":e=>a.row.numberOfO2Incubator=e,modelModifiers:{number:!0},options:[1,2,3]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"numberOfCO2Incubator",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",modelValue:a.row.numberOfCO2Incubator,"onUpdate:modelValue":e=>a.row.numberOfCO2Incubator=e,modelModifiers:{number:!0},options:[1,2,3]},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"collaborativeStation",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{dense:"",modelValue:a.row.collaborativeStation,"onUpdate:modelValue":e=>a.row.collaborativeStation=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"radian",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{dense:"",modelValue:a.row.radian,"onUpdate:modelValue":e=>a.row.radian=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"phenomatrix",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{dense:"",modelValue:a.row.phenomatrix,"onUpdate:modelValue":e=>a.row.phenomatrix=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"waspOccupancyRate",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(a.row.waspOccupancyRate.toFixed(2))+" % ",1)])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"wasplabOccupancyRate",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(isFinite(a.row.wasplabOccupancyRate)?a.row.wasplabOccupancyRate.toFixed(2)+" %":"N/A"),1)])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"actions",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{flat:"",round:"",color:"red",icon:"remove_circleoutline",size:"xs",onClick:o=>e.removeLine(a.row.id)},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"]),(0,l.Wm)(g,{class:"q-mt-md",label:"Add",type:"button",color:"secondary",size:"sm",onClick:e.addLine},null,8,["onClick"])])),_:1})}var g=o(6830),y=(0,l.aZ)({name:"ConfigLines",setup(){const e=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"numberOfWasp",label:"WASP",align:"left",field:e=>e.numberOfWasp},{name:"numberOfO2Incubator",label:"Air incubator",align:"left",field:e=>e.numberOfO2Incubator},{name:"numberOfCO2Incubator",label:"CO2 incubator",align:"left",field:e=>e.numberOfCO2Incubator},{name:"collaborativeStation",label:"Collaborative station",align:"left",field:e=>e.collaborativeStation},{name:"radian",label:"Radian",align:"left",field:e=>e.radian},{name:"phenomatrix",label:"Phenomatrix",align:"left",field:e=>e.phenomatrix},{name:"waspOccupancyRate",label:"WASP Occupancy rate",align:"left",field:e=>e.waspOccupancyRate},{name:"wasplabOccupancyRate",label:"WASPLAB Occupancy rate",align:"left",field:e=>e.wasplabOccupancyRate},{name:"actions",label:"",align:"left",field:e=>e.id}],{lines:a,dailyData:o,primaryProtocols:l}=(0,u.Z)(),t=o.value.find((e=>e.isPeakDay));return{tableColumns:e,lines:a,peakDay:t,primaryProtocols:l}},methods:{addLine(){this.lines.push({id:(0,g.Z)(),collaborativeStation:!1,name:"wasplab "+(this.lines.length+1),numberOfCO2Incubator:0,numberOfO2Incubator:0,numberOfWasp:0,phenomatrix:!1,protocols:[],radian:!1,waspOccupancyRate:0,wasplabOccupancyRate:0});const e=this.lines[this.lines.length-1];e.protocols=[],this.primaryProtocols.forEach((a=>{e?.protocols.push({id:a.id,name:a.name,samples:0,wasp1Percentage:0,wasp2Percentage:0,co2Loading:0,co2Recording:0,co2Unloading:0,o2Loading:0,o2Recording:0,o2Unloading:0,wasp1Broths:0,wasp1Plates:0,wasp1Slides:0,wasp2Broths:0,wasp2Plates:0,wasp2Slides:0})}))},removeLine(e){const a=this.lines.findIndex((a=>a.id==e));a>-1&&this.lines.splice(a,1)}}}),b=o(7617),h=o(8055),v=o(3712),k=o(7794),P=o(8231),O=o(7282),W=o(4487),V=o(6931),U=o(1903),_=o(9109),S=o(570),I=o(1410),D=o.n(I);const C=(0,b.Z)(y,[["render",w]]);var T=C;function q(e,a,o,t,n,i){const s=(0,l.up)("q-item-label"),r=(0,l.up)("q-td"),d=(0,l.up)("q-input"),p=(0,l.up)("q-popup-edit"),u=(0,l.up)("q-tr"),f=(0,l.up)("q-table"),w=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(w,{class:"q-pa-sm q-mt-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-mb-sm",overline:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.title),1)])),_:1}),(0,l.Wm)(f,{columns:1==e.line?.numberOfWasp?e.tableColumns1:e.tableColumns2,rows:e.line?.protocols,"row-key":"id",dense:"","hide-bottom":"",pagination:{rowsPerPage:0},separator:"cell"},{body:(0,l.w5)((e=>[(0,l.Wm)(u,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{key:"name",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"samples",props:e,style:{"background-color":"rgba(0, 0, 0, 0.05)"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.samples)+" % ",1),(0,l.Wm)(p,{modelValue:e.row.samples,"onUpdate:modelValue":a=>e.row.samples=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,l.w5)((e=>[(0,l.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,m.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"wasp1Percentage",props:e,style:{"background-color":"rgba(0, 0, 0, 0.05)"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.wasp1Percentage)+" % ",1),(0,l.Wm)(p,{modelValue:e.row.wasp1Percentage,"onUpdate:modelValue":a=>e.row.wasp1Percentage=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,l.w5)((e=>[(0,l.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,m.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"wasp1Plates",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.wasp1Plates),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"wasp1Slides",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.wasp1Slides),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"wasp1Broths",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.wasp1Broths),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"wasp2Percentage",props:e,style:{"background-color":"rgba(0, 0, 0, 0.05)"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.wasp2Percentage)+" % ",1),(0,l.Wm)(p,{modelValue:e.row.wasp2Percentage,"onUpdate:modelValue":a=>e.row.wasp2Percentage=a,modelModifiers:{number:!0},"auto-save":""},{default:(0,l.w5)((e=>[(0,l.Wm)(d,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,m.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"wasp2Plates",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.wasp2Plates),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"wasp2Slides",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.wasp2Slides),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"wasp2Broths",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.wasp2Broths),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"o2Loading",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.o2Loading),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"co2Loading",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.co2Loading),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"o2Recording",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.o2Recording),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"co2Recording",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.co2Recording),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"o2Unloading",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.o2Unloading),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"co2Unloading",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.row.co2Unloading),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1})}D()(y,"components",{QCard:h.Z,QItemLabel:v.Z,QTable:k.Z,QTr:P.Z,QTd:O.Z,QPopupEdit:W.Z,QInput:V.Z,QSelect:U.Z,QCheckbox:_.Z,QBtn:S.Z});var x=(0,l.aZ)({name:"LineProtocols",props:{title:String,lineId:String},setup(e){const{lines:a,primaryProtocols:o,dailyData:l,weightedDayTimesPerProtocol:t}=(0,u.Z)(),n=l.value.find((e=>e.isPeakDay)),i=t.value.filter((e=>e.dayOfWeek==n?.dayOfWeek)),s=a.value.find((a=>a.id==e.lineId)),r=[{name:"name",label:"Name",align:"left",field:e=>e.name},{name:"samples",label:"Samples",align:"left",field:e=>e.samples},{name:"wasp1Percentage",label:"WASP 1",align:"left",field:e=>e.wasp1Percentage},{name:"wasp1Plates",label:"Plates (1)",align:"left",field:e=>e.wasp1Plates},{name:"wasp1Slides",label:"Slides (1)",align:"left",field:e=>e.wasp1Slides},{name:"wasp1Broths",label:"Broths (1)",align:"left",field:e=>e.wasp1Broths},{name:"o2Loading",label:"Air loading",align:"left",field:e=>e.o2Loading},{name:"co2Loading",label:"CO2 loading",align:"left",field:e=>e.co2Loading},{name:"o2Recording",label:"Air recording",align:"left",field:e=>e.o2Recording},{name:"co2Recording",label:"CO2 recording",align:"left",field:e=>e.co2Recording},{name:"o2Unloading",label:"Air unloading",align:"left",field:e=>e.o2Unloading},{name:"co2Unloading",label:"CO2 unloading",align:"left",field:e=>e.co2Unloading}],d=[];for(const p of r)d.push(p);return d.splice(6,0,{name:"wasp2Percentage",label:"WASP 2",align:"left",field:e=>e.wasp2Percentage}),d.splice(7,0,{name:"wasp2Plates",label:"Plates (2)",align:"left",field:e=>e.wasp2Plates}),d.splice(8,0,{name:"wasp2Slides",label:"Slides (2)",align:"left",field:e=>e.wasp2Slides}),d.splice(9,0,{name:"wasp2Broths",label:"Broths (2)",align:"left",field:e=>e.wasp2Broths}),{tableColumns1:r,tableColumns2:d,lines:a,line:s,weightedPeakDayTimes:i,primaryProtocols:o}}});const Z=(0,b.Z)(x,[["render",q]]);var A=Z;D()(x,"components",{QCard:h.Z,QItemLabel:v.Z,QTable:k.Z,QTr:P.Z,QTd:O.Z,QPopupEdit:W.Z,QInput:V.Z});const R=(0,l.Uk)("Additional Items"),z={class:"row q-gutter-xs"},M={class:"col"},L={class:"col"},Q={class:"col"},B={class:"col"},E={class:"col"};function F(e,a,o,t,n,i){const s=(0,l.up)("q-item-label"),r=(0,l.up)("q-input"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(d,{class:"q-pa-sm q-mt-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-mb-sm",overline:""},{default:(0,l.w5)((()=>[R])),_:1}),(0,l._)("div",z,[(0,l._)("div",M,[(0,l.Wm)(r,{dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.flo,"onUpdate:modelValue":a[0]||(a[0]=a=>e.configuratorAdditionalItems.flo=a),modelModifiers:{number:!0},label:"Flo","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,l._)("div",L,[(0,l.Wm)(r,{dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.colibri,"onUpdate:modelValue":a[1]||(a[1]=a=>e.configuratorAdditionalItems.colibri=a),modelModifiers:{number:!0},label:"ColibrÃ¬",hint:e.colibriHint(),"lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","hint","rules"])]),(0,l._)("div",Q,[(0,l.Wm)(r,{dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.manualStation,"onUpdate:modelValue":a[2]||(a[2]=a=>e.configuratorAdditionalItems.manualStation=a),modelModifiers:{number:!0},label:"Manual station","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,l._)("div",B,[(0,l.Wm)(r,{dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.readingStation,"onUpdate:modelValue":a[3]||(a[3]=a=>e.configuratorAdditionalItems.readingStation=a),modelModifiers:{number:!0},label:"Reading station","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])]),(0,l._)("div",E,[(0,l.Wm)(r,{dense:"",filled:"",type:"number",modelValue:e.configuratorAdditionalItems.pickingStation,"onUpdate:modelValue":a[4]||(a[4]=a=>e.configuratorAdditionalItems.pickingStation=a),modelModifiers:{number:!0},label:"Picking station","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type a valid numeric value"]},null,8,["modelValue","rules"])])])])),_:1})}var $=(0,l.aZ)({name:"AdditionalItems",setup(){const{settings:e,lines:a,primaryProtocols:o,configuratorAdditionalItems:l,colibriTime:t}=(0,u.Z)();return{settings:e,lines:a,primaryProtocols:o,configuratorAdditionalItems:l,colibriTime:t}},methods:{colibriHint(){try{const e=[];this.lines.forEach((a=>{a.protocols.forEach((a=>{const o=e.findIndex((e=>e.protocolId==a.id));o<0?e.push({protocolId:a.id,plates:a.co2Unloading+a.o2Unloading}):e[o].plates+=a.co2Unloading+a.o2Unloading}))}));const a=[];e.forEach((e=>{const o=this.primaryProtocols.find((a=>a.id==e.protocolId));o&&a.push({protocol:o,idTime:e.plates*(o.idPercentage/100)*this.settings.colibri.IDTimeInSeconds,astTime:e.plates*(o.astPercentage/100)*this.settings.colibri.ASTTimeInSeconds,idAstTime:e.plates*(o.astIdPercentage/100)*this.settings.colibri.ASTIDTimeInSeconds})}));const o=a.map((e=>e.idTime+e.astTime+e.idAstTime)).reduce(((e,a)=>e+a));return this.colibriTime=o,0==this.configuratorAdditionalItems.colibri?"0 %":(o/this.configuratorAdditionalItems.colibri/3600*100).toFixed(2)+" %"}catch{return""}}}});const j=(0,b.Z)($,[["render",F]]);var K=j;D()($,"components",{QCard:h.Z,QItemLabel:v.Z,QInput:V.Z});var H=(0,l.aZ)({name:"HomeView",components:{Lines:T,Protocols:A,AdditionalItems:K},setup(){const{lines:e,dailyData:a,weightedDayTimesPerProtocol:o,primaryProtocols:l}=(0,u.Z)(),t=a.value.find((e=>e.isPeakDay)),n=o.value.filter((e=>e.dayOfWeek==t?.dayOfWeek));return{weightedDayTimesPerProtocol:o,weightedPeakDayTimes:n,peakDay:t,primaryProtocols:l,lines:e}},methods:{saveProtocols(){this.lines.forEach((e=>{e.protocols.forEach((e=>{const a=e.samples,o=e.wasp1Percentage,l=e.wasp2Percentage;e.samples=Number(a.toFixed(2)),e.wasp1Percentage=o,e.wasp2Percentage=l,e.co2Loading=Math.ceil((this.weightedPeakDayTimes.find((a=>"loading_co2"==a.type&&a.protocol==e.id))?.samples||0)*a/100),e.co2Recording=Math.ceil((this.weightedPeakDayTimes.find((a=>"recording_co2"==a.type&&a.protocol==e.id))?.samples||0)*a/100),e.co2Unloading=Math.ceil((this.weightedPeakDayTimes.find((a=>"unloading_co2"==a.type&&a.protocol==e.id))?.samples||0)*a/100),e.o2Loading=Math.ceil((this.weightedPeakDayTimes.find((a=>"loading_air"==a.type&&a.protocol==e.id))?.samples||0)*a/100),e.o2Recording=Math.ceil((this.weightedPeakDayTimes.find((a=>"recording_air"==a.type&&a.protocol==e.id))?.samples||0)*a/100),e.o2Unloading=Math.ceil((this.weightedPeakDayTimes.find((a=>"unloading_air"==a.type&&a.protocol==e.id))?.samples||0)*a/100),e.wasp1Broths=Math.ceil((this.weightedPeakDayTimes.find((a=>"broths"==a.type&&a.protocol==e.id))?.samples||0)*o/100*a/100),e.wasp1Plates=Math.ceil((this.weightedPeakDayTimes.find((a=>"plates"==a.type&&a.protocol==e.id))?.samples||0)*o/100*a/100),e.wasp1Slides=Math.ceil((this.weightedPeakDayTimes.find((a=>"slides"==a.type&&a.protocol==e.id))?.samples||0)*o/100*a/100),e.wasp2Broths=Math.floor((this.weightedPeakDayTimes.find((a=>"broths"==a.type&&a.protocol==e.id))?.samples||0)*l/100*a/100),e.wasp2Plates=Math.floor((this.weightedPeakDayTimes.find((a=>"plates"==a.type&&a.protocol==e.id))?.samples||0)*l/100*a/100),e.wasp2Slides=Math.floor((this.weightedPeakDayTimes.find((a=>"slides"==a.type&&a.protocol==e.id))?.samples||0)*l/100*a/100)}))}))},saveConfig(){this.lines.forEach((e=>{let a=0,o=0;const l=e.protocols;l.forEach((l=>{const t=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==l.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&("plates"==e.type||"slides"==e.type||"broths"==e.type))).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*l.samples/e.numberOfWasp/100||0;a+=t;const n=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==l.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"loading_air"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*l.samples/e.numberOfO2Incubator/100||0,i=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==l.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"recording_air"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*l.samples/e.numberOfO2Incubator/100||0,s=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==l.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"unloading_air"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*l.samples/e.numberOfO2Incubator/100||0;o+=n,o+=i,o+=s;const r=e.numberOfCO2Incubator>0?e.numberOfCO2Incubator:1,d=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==l.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"loading_co2"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*l.samples/r/100||0,p=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==l.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"recording_co2"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*l.samples/r/100||0,u=this.weightedDayTimesPerProtocol.filter((e=>e.protocol==l.id&&e.dayOfWeek==this.peakDay?.dayOfWeek&&"unloading_co2"==e.type)).map((e=>e.timeInSeconds)).reduce(((e,a)=>e+a))*l.samples/r/100||0;o+=d,o+=p,o+=u})),e.waspOccupancyRate=a/3600/24*100,e.wasplabOccupancyRate=o/3600/24*100}))},calcola(){this.saveProtocols(),this.saveConfig()}}}),N=o(8579);const Y=(0,b.Z)(H,[["render",p]]);var G=Y;D()(H,"components",{QPageSticky:N.Z,QBtn:S.Z})}}]);
//# sourceMappingURL=configurator.fad5847e.js.map